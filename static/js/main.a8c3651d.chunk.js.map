{"version":3,"sources":["configs/blockchainParameters.ts","scripts/getCurrentBlockchainInfo.ts","configs/SigmaStampConfig.ts","scripts/transactionBuilder.ts","utils/readFileAsDataUri.tsx","filePreview/mimeTypes/image/ImageFilePreview.tsx","filePreview/mimeTypes/audio/AudioFilePreview.tsx","utils/readFileAsText.tsx","filePreview/mimeTypes/misc/CodeFilePreview.tsx","filePreview/mimeTypes/misc/UnknownFilePreview.tsx","utils/fetchWithCache.ts","utils/shortenHexValue.ts","oracles/_AbstractBlockcyptherOracle.ts","oracles/BitcoinOracle.ts","oracles/DateOracle.ts","oracles/EthereumOracle.ts","oracles/LitecoinOracle.ts","oracles/NytimesOracle.ts","config.ts","globalStyle.ts","articles/how-it-works.md","articles/mobile-device.md","components/Article.tsx","utils/useAsyncMemo.ts","components/Center.tsx","components/LogoComponent.tsx","routes.mjs","components/Notifications.tsx","utils/usePersistentState.ts","utils/isRunningOnMobileDevice.ts","components/Button.tsx","utils/findDeepestChild.ts","pdf/createPdf.ts","components/PdfPage.tsx","components/UploadZone.tsx","components/UploadZoneSigmastampContent.tsx","utils/readFileAsArrayBuffer.tsx","utils/readFileAsByteArray.tsx","utils/uint8ArrayToHex.tsx","hash/blake2b256.ts","scripts/validateFirstCertificate.ts","components/Loader.tsx","components/PaymentGate.tsx","components/ErrorComponent.tsx","components/Float.tsx","components/AsyncContentComponent.tsx","filePreview/SingleFilePreview.tsx","filePreview/MultipleFilesPreview.tsx","pages/10-FirstCertificate/FirstCertificatePdfPage.tsx","pages/10-FirstCertificate/FirstCertificatePage.tsx","components/MessageSigner.tsx","pages/20-VerificationPage/VerificationPage.tsx","pages/53-Oracles/OraclesPage.tsx","pages/85-Playground/Playground.tsx","components/ErgoConnectorButton.tsx","pages/00-App/MenuItemsComponent.tsx","pages/00-App/MenuComponent.tsx","pages/00-App/App.tsx","index.tsx"],"names":["USE_MAINNET","NANO_ERGS_IN_ONE_ERG","MIN_NANO_ERGS_IN_BOX","NFT_CREATION_TRANSACTION_MINER_FEE","EXPLORER_URL","EXPLORER_TOKEN_SEARCH_PREFIX","EXPLORER_BLOKCHAIN_HEIGHT_PREFIX","EXPLORER_BOX_INFO_PREFIX","EXPLORER_UNSPENT_BOXES_BY_TOKEN_ID_PREFIX","EXPLORER_TRANSACTION_INFO_PREFIX","getBlockHeight","a","fetch","response","json","body","items","height","SIGMASTAMP_SERVICE_FEE_AMOUNT","SIGMASTAMP_SERVICE_FEE_ADDRESS","SIGMASTAMP_NFT_NAME","SIGMASTAMP_ASSET_TYPE","SIGMASTAMP_NFT_DESCRIPTION","ergolib","get_minimum_required_balance","get_minimum_required_balance_ergs","convert_tx_values_number_to_string","tx","outputs","map","output","assets","value","toString","asset","tokenId","amount","convert_utxo_values_number_to_string","get_box_selection","utxos","wasm","selector","SimpleBoxSelector","select","ErgoBoxes","from_boxes_json","BoxValue","from_i64","I64","from_str","Tokens","get_output_box_candidates","user","nftId","hash","user_box_value","service_fee_value","output_box_candidates","ErgoBoxCandidates","empty","first_output_builder","ErgoBoxCandidateBuilder","Contract","pay_to_address","Address","from_base58","second_output_builder","mint_token","Token","TokenId","TokenAmount","assetType","Constant","from_byte_array","Uint8Array","from","Buffer","fileHashValue","set_register_value","add","build","create_transaction","ergoConnector","nautilus","Error","getContext","ctx","get_utxos","input_box_selection","first_input_box_id","boxes","get","box_id","to_str","miner_fee_value","min_change_value","tx_builder","TxBuilder","new","data_inputs","DataInputs","set_data_inputs","to_json","converted","JSON","parse","inputs","box","full_box","find","utxo","boxId","extension","sign_tx","unsigned_tx","submit_tx","signed_tx","readFileAsDataUrl","file","Promise","resolve","reject","reader","FileReader","addEventListener","event","target","result","readAsDataURL","ImageFilePreview","test","type","fileData","ImageFilePreviewDiv","styled","div","AudioFilePreview","readFileAsText","readAsText","CodeFilePreview","CodeFilePreviewDiv","language","style","dark","showLineNumbers","UnknownFilePreview","cache","ObjectStorage","PrefixStorage","localStorage","fetchWithCache","url","ttl","getItem","href","cacheItem","validTo","Date","data","error","setItem","now","toISOString","shortenHexValue","length","exec","groups","zeros","rest","substr","AbstractBlockcyptherOracle","name","titleOfCoin","apiUrl","URL","this","toLowerCase","title","format","source","getShortenValue","message","BitcoinOracle","DateOracle","date","getUTCFullYear","getUTCMonth","slice","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","EthereumOracle","LitecoinOracle","NytimesOracle","rssParser","RssParser","parseURL","feed","firstItem","link","VERSION","version","ORACLES","PAGE_SIZE","Vector","config","ConfigChecker","process","BUILD_DETAILS_URL","BUILD_DATE","GlobalStyle","createGlobalStyle","Article","src","factory","deps","React","useState","setValue","useEffect","cancel","promise","undefined","then","val2","useAsyncMemo","mimeType","headers","content","spaceTrim","text","console","markdown","converter","setFlavor","html","makeHtml","ArticleDiv","dangerouslySetInnerHTML","__html","Converter","extensions","showdownHighlight","pre","auto_detection","Center","children","isFlexed","className","CenterDiv","LogoComponent","isWatermark","LogoElement","alt","ROUTES","VerificationPage","Blockchains","Oracles","SampleCertificates","Faq","Playground","TechnicalStatus","About","HowItWorks","Mobile","FirstCertificate","Notifications","key","initialValue","valueInLocalStorage","window","state","setState","stringify","usePersistentState","navigator","userAgent","isMobileDeviceWarning","setMobileDeviceWarning","NotificationsDiv","NotificationDiv","to","onClick","Button","button","findDeepestChild","element","createPdf","containerElement","pdfDocument","jsPDF","toArray2D","forAllImagesInElement","html2canvas","scale","backgroundColor","allowTaint","ignoreElements","classList","contains","canvas","image","toDataURL","addImage","containerBoundingBox","getBoundingClientRect","originPosition","fromObject","containerSize","addFont","Array","querySelectorAll","textElement","positionInPdf","subtract","divide","multiply","textElementDeepestChild","fontSize","parseFloat","getComputedStyle","getPropertyValue","fontWeight","fontStyle","fontSizeInPdf","y","setFontSize","setFont","innerText","baseline","PdfPage","props","pageRef","useRef","PdfPageDiv","renderUi","current","pdfBlob","ref","x","UploadZone","uploadClick","isClickable","onFilesOver","onFiles","isFilesOver","setFilesOver","onFileOverWrapper","isFileOver","UploadZoneDiv","onMouseEnter","onMouseLeave","onDragEnter","stopPropagation","preventDefault","onDragOver","onDragExit","onDragEnd","onDragEndCapture","onDrop","files","dataTransfer","multiple","click","onChange","UploadZoneSigmastampContent","UploadZoneContentDiv","readFileAsArrayBuffer","readAsArrayBuffer","readFileAsByteArray","uint8ArrayToHex","uint8Array","padStart","join","blake2b256","input","context","blake2bInit","blake2bUpdate","hashUint8Array","blake2bFinal","validateFirstCertificate","firstCertificate","tokensResponse","tokensBody","item","emissionAmount","boxesResponse","boxesBody","additionalRegisters","R7","renderedValue","R8","getTransactionTime","txId","log","timestamp","getNFTHolderAddress","total","address","Loader","LoaderDiv","ErrorComponent","AsyncContentComponent","loading","factorable","filesCount","CARD_SIZE","CARD_PADDING","FirstAndSecondCertificatePageDiv","DEFAULT_ADDRESSES_LOADER_STATE","loaded","addresses","DEFAULT_USER_IS_OWNER_OF_ADDRESS_STATE","ownerOfStamperAddress","ownerOfHolderAddress","availableIntersectingAddresses","MessageSigner","loadedAddresses","setLoadedAddresses","userIsOwner","setUserIsOwner","wallet","connected","get_used_addresses","intersectingAddresses","indexOf","stamperAddress","push","holderAddress","pop","for","id","addr","placeholder","color","sign_data","res","disabled","setFiles","verification","setVerification","File","certificateFile","zip","JSZip","generateAsync","zipBlob","zipHash","saveAs","substring","transactionId","currentHolder","droppedFiles","droppedFileVerification","alert","OraclesPage","OraclesDiv","oracle","getData","constructor","PlaygroundPage","balance","setFile","sentTXHash","setSentTXHash","PlaygroundPageDiv","firstFile","stx","ErgoConnectorButton","connect","createErgoObject","get_change_address","Number","get_balance","setWallet","prev","disconnect","MenuItemsComponent","MenuElement","menu","MenuComponent","articleHowItWorks","DEFAULT_WALLET_STATE","App","AppDiv","path","articleMobileDevice","info","toLocaleString","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a8c3651d.chunk.js","sourcesContent":["export const USE_MAINNET = true;\n\nexport const NANO_ERGS_IN_ONE_ERG: number = 1000000000;\n\nexport const MIN_NANO_ERGS_IN_BOX: number = 1000000;\n\n// export const MAINNET_BLOCK_TIME_SECONDS: number = 120;\n// export const TESTNET_BLOCK_TIME_SECONDS: number = 5;\n// export const BLOCK_TIME_SECONDS: number =\n// \tUSE_MAINNET ? MAINNET_BLOCK_TIME_SECONDS : TESTNET_BLOCK_TIME_SECONDS;\n\nexport const NFT_CREATION_TRANSACTION_MINER_FEE: number = 1000000;\n\n// export const ADDRESS_NETWORK_TYPE_MAINNET: number = 0x00;\n// export const ADDRESS_NETWORK_TYPE_TESTNET: number = 0x10;\n// export const ADDRESS_NETWORK_TYPE_CURRENT: number =\n// \tUSE_MAINNET ? ADDRESS_NETWORK_TYPE_MAINNET : ADDRESS_NETWORK_TYPE_TESTNET;\n\nexport const MAINNET_EXPLORER_URL: string = \"https://api.ergoplatform.com\";\nexport const TESTNET_EXPLORER_URL: string = \"https://api-testnet.ergoplatform.com\";\nexport const EXPLORER_URL = USE_MAINNET ? MAINNET_EXPLORER_URL : TESTNET_EXPLORER_URL;\n\nexport const EXPLORER_TOKEN_SEARCH_PREFIX: string = \"/api/v1/tokens/search?query=\";\nexport const EXPLORER_TOKEN_SEARCH_SUFIX: string = \"\";\n\n/*\nexport const MAINNET_NODE_URL: string = \"http://213.239.193.208:9053\";\n//export const MAINNET_NODE_URL: string = \"https://ergonode.blocpow.io\"; <-- not working anymore :-(\nexport const TESTNET_NODE_URL: string = \"http://213.239.193.208:9052\";\n//export const TESTNET_NODE_URL: string = \"https://ergotestnetnode.blocpow.io\";\nexport const NODE_URL = USE_MAINNET ? MAINNET_NODE_URL : TESTNET_NODE_URL;\n*/\n\n/*\nexport const EXPLORER_BALANCE_ENDPOINT_PREFIX: string = \"/api/v1/addresses/\";\nexport const EXPLORER_BALANCE_ENDPOINT_SUFIX: string = \"/balance/total\";\n\nexport const EXPLORER_TOKEN_INFO_PREFIX: string = \"/api/v1/tokens/\";\nexport const EXPLORER_TOKEN_INFO_SUFIX: string = \"\";\n*/\n\nexport const EXPLORER_BLOKCHAIN_HEIGHT_PREFIX: string = \"/api/v1/blocks?limit=1\";\nexport const EXPLORER_BLOKCHAIN_HEIGHT_SUFIX: string = \"\";\n\n/*\nexport const EXPLORER_ASSET_SEARCH_PREFIX: string = \"/api/v1/assets/search/byTokenId?query=\";\nexport const EXPLORER_ASSET_SEARCH_SUFIX: string = \"\";\n*/\n\nexport const EXPLORER_BOX_INFO_PREFIX: string = \"/api/v1/boxes/\";\nexport const EXPLORER_BOX_INFO_SUFIX: string = \"\";\n\n/*\nexport const EXPLORER_BOXES_BY_ADDRESS_PREFIX: string = \"/api/v1/boxes/byAddress/\";\nexport const EXPLORER_BOXES_BY_ADDRESS_SUFIX: string = \"\";\n\nexport const EXPLORER_UNSPENT_BOXES_BY_ADDRESS_PREFIX: string = \"/api/v1/boxes/unspent/byAddress/\";\nexport const EXPLORER_UNSPENT_BOXES_BY_ADDRESS_SUFIX: string = \"\";\n*/\n\nexport const EXPLORER_UNSPENT_BOXES_BY_TOKEN_ID_PREFIX: string = \"/api/v1/boxes/unspent/byTokenId/\";\nexport const EXPLORER_UNSPENT_BOXES_BY_TOKEN_ID_SUFIX: string = \"\";\n\n/*\nexport const EXPLORER_BOX_BY_ID_PREFIX: string = \"/api/v1/boxes/\";\nexport const EXPLORER_BOX_BY_ID_SUFFIX: string = \"\";\n*/\n\nexport const EXPLORER_TRANSACTION_INFO_PREFIX: string = \"/api/v1/transactions/\";\nexport const EXPLORER_TRANSACTION_INFO_SUFIX: string = \"\";\n\n/*\nexport const NODE_ADDRESS_TO_TREE_PREFIX: string = \"/script/addressToTree/\";\nexport const NODE_ADDRESS_TO_TREE_SUFIX: string = \"\";\n*/\n","import {\n    EXPLORER_URL,\n    EXPLORER_BLOKCHAIN_HEIGHT_PREFIX\n} from \"../configs/blockchainParameters\";\n\nexport async function getBlockHeight(): Promise<number> {\n    const response = await fetch(EXPLORER_URL + EXPLORER_BLOKCHAIN_HEIGHT_PREFIX);\n    const body = await response.json();\n    return body.items[0].height;\n}\n","import { USE_MAINNET } from \"./blockchainParameters\";\n\nexport const SIGMASTAMP_SERVICE_FEE_AMOUNT: number = 10000000;\n\nexport const MAINNET_SERVICE_FEE_ADDRESS: string = \"9i5EyNjeWHaRwCxjdn8PfBcyB3MzrbdBjNCjcxbF3tR19fdo8NP\";\nexport const TESTNET_SERVICE_FEE_ADDRESS: string = \"todo\";\n\nexport const SIGMASTAMP_SERVICE_FEE_ADDRESS: string =\n\t(USE_MAINNET) ? MAINNET_SERVICE_FEE_ADDRESS : TESTNET_SERVICE_FEE_ADDRESS;\n\n// production value is \"SigmaStampNFT\", but for now keep it with test value\nexport const SIGMASTAMP_NFT_NAME: string = \"TestStampNFTAlpha\";\n\n//production value is \"01de\", but for now keep it with test value\n//(0x01 specifies NFT category, 0xde specifies SigmaStampNFT subcategory)\n//see (https://github.com/ergoplatform/eips/blob/master/eip-0004.md) for more info\nexport const SIGMASTAMP_ASSET_TYPE: string = \"0173\";\n\nexport const SIGMASTAMP_NFT_DESCRIPTION: string = \"Proof of existence of document with Blake2b-256 hash specified in R8 register during minting of this NFT token.\";\n","import {\n    MIN_NANO_ERGS_IN_BOX,\n    NANO_ERGS_IN_ONE_ERG,\n    NFT_CREATION_TRANSACTION_MINER_FEE,\n} from '../configs/blockchainParameters';\nimport {\n    SIGMASTAMP_ASSET_TYPE,\n    SIGMASTAMP_NFT_DESCRIPTION,\n    SIGMASTAMP_NFT_NAME,\n    SIGMASTAMP_SERVICE_FEE_ADDRESS,\n    SIGMASTAMP_SERVICE_FEE_AMOUNT,\n} from '../configs/SigmaStampConfig';\n\nimport { getBlockHeight } from './getCurrentBlockchainInfo';\n\nconst ergolib = import('ergo-lib-wasm-browser');\n\nexport function get_minimum_required_balance(): number {\n    return (\n        SIGMASTAMP_SERVICE_FEE_AMOUNT +\n        NFT_CREATION_TRANSACTION_MINER_FEE +\n        MIN_NANO_ERGS_IN_BOX\n    );\n}\n\nexport function get_minimum_required_balance_ergs(): number {\n    return get_minimum_required_balance() / NANO_ERGS_IN_ONE_ERG;\n}\n\ninterface ITxInput {\n    boxId: string;\n    extension: any;\n}\n\ninterface ITxOutputAsset {\n    tokenId: string;\n    amount: number;\n}\n\ninterface ITxOutputAssetConverted {\n    tokenId: string;\n    amount: string;\n}\n\ninterface ITxOutput {\n    value: number;\n    ergoTree: string;\n    assets: ITxOutputAsset[];\n    additionalRegisters: any;\n    creationHeight: number;\n}\n\ninterface ITxOutputConverted {\n    value: string;\n    ergoTree: string;\n    assets: ITxOutputAssetConverted[];\n    additionalRegisters: any;\n    creationHeight: number;\n}\n\ninterface ITx {\n    inputs: ITxInput[];\n    dataInputs: any[];\n    outputs: ITxOutput[];\n}\n\ninterface ITxConverted {\n    inputs: ITxInput[];\n    dataInputs: any[];\n    outputs: ITxOutputConverted[];\n}\n\ninterface ISignedTxInput {\n    boxId: string;\n    spendingProof: {\n        proofBytes: string;\n        extension: any;\n    };\n}\n\ninterface ISignedOutput {\n    boxId: string;\n    value: number;\n    ergoTree: string;\n    assets: ITxOutputAsset[];\n    additionalRegisters: any;\n    creationHeight: number;\n    transactionId: string;\n    index: number;\n}\n\ninterface ISignedTx {\n    id: string;\n    inputs: ISignedTxInput[];\n    dataInputs: any[];\n    outputs: ISignedOutput[];\n}\n\nexport function convert_tx_values_number_to_string(tx: ITx): ITxConverted {\n    return {\n        ...tx,\n        outputs: tx.outputs.map((output: ITxOutput) =>\n            convert_utxo_values_number_to_string(output),\n        ),\n    };\n}\n\nexport function convert_utxo_values_number_to_string(\n    json: ITxOutput,\n): ITxOutputConverted {\n    if (json.assets == null) {\n        json.assets = [];\n    }\n    return {\n        ...json,\n        value: json.value.toString(),\n\n        assets: json.assets.map((asset: ITxOutputAsset) => ({\n            tokenId: asset.tokenId,\n            amount: asset.amount.toString(),\n        })),\n    };\n}\n\nasync function get_box_selection(utxos: any) {\n    const wasm = await ergolib;\n\n    const selector = new wasm.SimpleBoxSelector();\n\n    return selector.select(\n        wasm.ErgoBoxes.from_boxes_json(utxos),\n        wasm.BoxValue.from_i64(\n            wasm.I64.from_str(get_minimum_required_balance().toString()),\n        ),\n        new wasm.Tokens(),\n    );\n}\n\nasync function get_output_box_candidates(\n    user: string,\n    height: number,\n    nftId: string,\n    hash: string, // price: number, nanoErgs: number, tokenID: string, height: number\n) {\n    const wasm = await ergolib;\n\n    const user_box_value = wasm.BoxValue.from_i64(\n        wasm.I64.from_str(MIN_NANO_ERGS_IN_BOX.toString()),\n    );\n    const service_fee_value = wasm.BoxValue.from_i64(\n        wasm.I64.from_str(SIGMASTAMP_SERVICE_FEE_AMOUNT.toString()),\n    );\n\n    const output_box_candidates = wasm.ErgoBoxCandidates.empty();\n\n    const first_output_builder = new wasm.ErgoBoxCandidateBuilder(\n        user_box_value,\n        wasm.Contract.pay_to_address(wasm.Address.from_base58(user)),\n        height,\n    );\n\n    const second_output_builder = new wasm.ErgoBoxCandidateBuilder(\n        service_fee_value,\n        wasm.Contract.pay_to_address(\n            wasm.Address.from_base58(SIGMASTAMP_SERVICE_FEE_ADDRESS),\n        ),\n        height,\n    );\n\n    first_output_builder.mint_token(\n        new wasm.Token(\n            wasm.TokenId.from_str(nftId),\n            wasm.TokenAmount.from_i64(wasm.I64.from_str('1')),\n        ),\n        SIGMASTAMP_NFT_NAME,\n        SIGMASTAMP_NFT_DESCRIPTION,\n        0,\n    );\n\n    const assetType = wasm.Constant.from_byte_array(\n        Uint8Array.from(Buffer.from(SIGMASTAMP_ASSET_TYPE, 'hex')),\n    );\n    const fileHashValue = wasm.Constant.from_byte_array(\n        Uint8Array.from(Buffer.from(hash, 'hex')),\n    );\n\n    first_output_builder.set_register_value(7, assetType);\n    first_output_builder.set_register_value(8, fileHashValue);\n    //todo add remaining register values (R9 - url for verification...)\n\n    output_box_candidates.add(first_output_builder.build());\n    output_box_candidates.add(second_output_builder.build());\n\n    return output_box_candidates;\n}\n\nexport async function create_transaction(\n    user: string,\n    hash: string,\n): Promise<ITxConverted> {\n    let wasm = await ergolib;\n\n    const height = await getBlockHeight();\n\n    if (!ergoConnector || !ergoConnector.nautilus) {\n        throw new Error('Ergo connector is required');\n    }\n\n    const ctx = await ergoConnector.nautilus.getContext();\n\n    const utxos = await ctx.get_utxos();\n\n    const input_box_selection = await get_box_selection(utxos);\n    const first_input_box_id = input_box_selection\n        .boxes()\n        .get(0)\n        .box_id()\n        .to_str();\n\n    const output_box_candidates = await get_output_box_candidates(\n        user,\n        height,\n        first_input_box_id,\n        hash,\n    );\n\n    const miner_fee_value = wasm.BoxValue.from_i64(\n        wasm.I64.from_str(NFT_CREATION_TRANSACTION_MINER_FEE.toString()),\n    );\n    const min_change_value = wasm.BoxValue.from_i64(\n        wasm.I64.from_str(MIN_NANO_ERGS_IN_BOX.toString()),\n    );\n\n    const tx_builder = wasm.TxBuilder.new(\n        input_box_selection,\n        output_box_candidates,\n        height,\n        miner_fee_value,\n        wasm.Address.from_base58(user),\n        min_change_value,\n    );\n\n    const data_inputs = new wasm.DataInputs();\n    tx_builder.set_data_inputs(data_inputs);\n\n    const tx = tx_builder.build().to_json();\n    const converted = convert_tx_values_number_to_string(JSON.parse(tx));\n\n    converted.inputs = converted.inputs.map((box: any) => {\n        const full_box = utxos.find((utxo) => utxo.boxId === box.boxId);\n        if (full_box) return { ...full_box, extension: {} };\n        else return box;\n    });\n\n    return converted;\n}\n\nexport async function sign_tx(\n    unsigned_tx: ITxConverted,\n): Promise<ISignedTx | null> {\n    if (!ergoConnector || !ergoConnector.nautilus) return null;\n    const ctx: any = await ergoConnector.nautilus.getContext();\n    try {\n        return ctx.sign_tx(unsigned_tx);\n    } catch (_) {\n        return null;\n    }\n}\n\nexport async function submit_tx(signed_tx: ISignedTx): Promise<string | null> {\n    if (!ergoConnector || !ergoConnector.nautilus) return null;\n    const ctx: any = await ergoConnector.nautilus.getContext();\n    try {\n        return ctx.submit_tx(signed_tx);\n    } catch (_) {\n        return null;\n    }\n}\n","import { string_data_url } from '../interfaces/stringTypes';\n\nexport async function readFileAsDataUrl(\n    file: File | Blob,\n): Promise<string_data_url> {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        reader.addEventListener('loadend', (event) =>\n            resolve(event.target!.result as string_data_url),\n        );\n        reader.addEventListener('error', reject);\n\n        reader.readAsDataURL(file);\n    });\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { string_data_url } from '../../../interfaces/stringTypes';\nimport { readFileAsDataUrl } from '../../../utils/readFileAsDataUri';\nimport { IFilePreviewer } from '../../IFilePreviewerProps';\n\nexport class ImageFilePreview implements IFilePreviewer {\n    public isSupporting(file: File): boolean {\n        return /^image\\/.*/.test(file.type);\n    }\n    public async render(file: File) {\n        const fileData = await readFileAsDataUrl(file);\n        return (\n            // Note: Not using <img> because it doesn't stretch image propperly\n            <ImageFilePreviewDiv {...{ fileData }} />\n        );\n    }\n}\n\nexport const ImageFilePreviewDiv = styled.div<{ fileData: string_data_url }>`\n    width: 100%;\n    height: 100%;\n    background-color: #000;\n    background-image: url(${({ fileData }) => fileData});\n    background-size: cover;\n    background-position: center center;\n`;\n","import React from 'react';\nimport { IFilePreviewer } from '../../IFilePreviewerProps';\nimport { ImageFilePreviewDiv } from '../image/ImageFilePreview';\n\nexport class AudioFilePreview implements IFilePreviewer {\n    public isSupporting(file: File): boolean {\n        return /^audio\\/.*/.test(file.type);\n    }\n    public async render(file: File) {\n        return (\n            // Note: Not using <img> because it doesn't stretch image propperly\n            <ImageFilePreviewDiv fileData=\"./non-image-previews/audio.jpg\" />\n        );\n    }\n}\n\n\n/**\n * TODO: @hejny Generate better preview for audio files\n */","import { string_data_url } from '../interfaces/stringTypes';\n\nexport async function readFileAsText(\n    file: File | Blob,\n): Promise<string_data_url> {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        reader.addEventListener('loadend', (event) =>\n            resolve(event.target!.result as string),\n        );\n        reader.addEventListener('error', reject);\n\n        reader.readAsText(file);\n    });\n}\n","import React from 'react';\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { dark } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport styled from 'styled-components';\nimport { readFileAsText } from '../../../utils/readFileAsText';\nimport { IFilePreviewer } from '../../IFilePreviewerProps';\n\nexport class CodeFilePreview implements IFilePreviewer {\n    public isSupporting(file: File): boolean {\n        return /^(application|text)\\/.*/.test(file.type);\n    }\n\n    public async render(file: File) {\n        const fileData = await readFileAsText(file);\n        return (\n            <CodeFilePreviewDiv>\n                <SyntaxHighlighter\n                    language=\"javascript\"\n                    style={dark}\n                    showLineNumbers={true}\n                >\n                    {fileData}\n                </SyntaxHighlighter>\n            </CodeFilePreviewDiv>\n        );\n    }\n}\n\nconst CodeFilePreviewDiv = styled.div`\n\n    height: 100%;\n\n    pre {\n        height: 100%;\n        margin: 0!important;\n        padding: 0.2em;!important;\n        border: none!important;\n        box-shadow:none !important;\n        border-radius: 0 !important;\n    }\n\n    .linenumber {\n        min-width: 0 !important;\n    }\n`;\n\n/**\n * TODO: @hejny Dynamically choose programming language\n */\n","import React from 'react';\nimport { IFilePreviewer } from '../../IFilePreviewerProps';\nimport { ImageFilePreviewDiv } from '../image/ImageFilePreview';\n\nexport class UnknownFilePreview implements IFilePreviewer {\n    public isSupporting(file: File): boolean {\n        return true;\n    }\n\n    public async render(file: File) {\n        return (\n            // Note: Not using <img> because it doesn't stretch image propperly\n            <ImageFilePreviewDiv fileData=\"./non-image-previews/unknown.jpg\" />\n        );\n    }\n}\n\n/**\n * TODO: @hejny Better preview for unknown files\n */\n","import { ObjectStorage, PrefixStorage } from 'everstorage';\nimport { string_date } from '../interfaces/stringTypes';\n\nconst cache = new ObjectStorage<{ validTo: string_date; data: any }>(\n    new PrefixStorage(localStorage, 'cache'),\n);\n\n/**\n *\n * @param url\n * @param ttl Time to live in seconds. When -1 provided, data will be valid until page is reloaded.\n * @returns\n */\nexport async function fetchWithCache<T>(\n    url: URL,\n    ttl: number = -1,\n): Promise<T> {\n    // TODO: @hejny Storage with validity to everstorage\n    const cacheItem = await cache.getItem(url.href);\n\n    if (cacheItem) {\n        if (cacheItem.validTo && new Date(cacheItem.validTo) > new Date()) {\n            return cacheItem.data as T;\n        }\n    }\n\n    const response = await fetch(\n        url.href,\n        /*{ mode: 'no-cors' }*/\n    );\n    // console.log({ response });\n    const data = await response.json();\n\n    if (data.error) {\n        throw new Error(data.error);\n    }\n\n    if (ttl !== -1) {\n        await cache.setItem(url.href, {\n            validTo: new Date(Date.now() + ttl * 1000).toISOString(),\n            data,\n        });\n    }\n\n    return data;\n}\n","import { string_hex } from '../interfaces/stringTypes';\n\nexport function shortenHexValue(value: string_hex, length: number): string {\n    const { zeros, rest } = /(?<zeros>0*)(?<rest>[0-9a-f]*)/i.exec(value)!\n        .groups!;\n\n    if (zeros.length === 0) {\n        return rest.substr(0, length - 3) + '…' + rest.substr(-2);\n    } else {\n        return '0…' + rest.substr(0, length - 5) + '…' + rest.substr(-2);\n    }\n}\n","import { fetchWithCache } from '../utils/fetchWithCache';\nimport { shortenHexValue } from '../utils/shortenHexValue';\nimport { IOracle } from './_IOracle';\n\nexport abstract class AbstractBlockcyptherOracle implements IOracle {\n    public abstract name: string;\n    protected abstract titleOfCoin: string;\n\n    /**\n     * Time to live in seconds. When -1 provided, data will be valid until page is reloaded.\n     */\n    protected abstract ttl: number;\n\n    public async getData() {\n        const apiUrl = new URL(\n            `https://api.blockcypher.com/v1/${this.name.toLowerCase()}/main`,\n        );\n\n        try {\n            const { hash } = await fetchWithCache(\n                /*`https://blockchain.info/latestblock`*/\n                /*{ mode: 'no-cors' }*/\n                apiUrl,\n                this.ttl,\n            );\n\n            return [\n                {\n                    title: `${this.titleOfCoin}\\ncurrent block`,\n                    format: 'SHA256 Hash',\n                    value: hash,\n                    source: new URL(\n                        `https://live.blockcypher.com/${this.name.toLowerCase()}/block/${hash}`,\n                        // `https://www.blockchain.com/${this.name.toLowerCase()}/block/${hash}`,\n                    ),\n                    getShortenValue(length: number) {\n                        return shortenHexValue(hash, length);\n                    },\n                },\n            ];\n        } catch (error) {\n            if (error instanceof Error && error.message === 'Failed to fetch') {\n                throw new Error(`Failed to fetch ${apiUrl.href}`);\n            } else {\n                throw error;\n            }\n        }\n    }\n}\n\n/**\n * TODO: !!! @hejny There is problem with API call limits to api.blockcypher.com\n */\n","import { AbstractBlockcyptherOracle } from './_AbstractBlockcyptherOracle';\n\nexport class BitcoinOracle extends AbstractBlockcyptherOracle {\n    public name = 'BTC';\n    protected titleOfCoin = 'Bitcoin';\n    protected ttl = 600;\n}\n","import { IOracle } from './_IOracle';\n\nexport class DateOracle implements IOracle {\n    public name = 'DATE';\n    public title = 'Current';\n    public ttl = 1;\n\n    public getData() {\n        const date =\n            new Date(/* TODO: @hejny Taking user date can be dangerous, use some remote time. */);\n\n        return [\n            {\n                title: 'Date',\n                format: 'YYYY-MM-DD',\n                value: `${date.getUTCFullYear()}-${(\n                    '0' + date.getUTCMonth()\n                ).slice(-2)}-${('0' + date.getUTCDate()).slice(-2)}`,\n            },\n            {\n                title: 'Time',\n                format: 'HH:MM',\n                value: `${('0' + date.getUTCHours()).slice(-2)}:${(\n                    '0' + date.getUTCMinutes()\n                ).slice(-2)}:${('0' + date.getUTCSeconds()).slice(-2)}`,\n            },\n        ];\n    }\n}\n","import { AbstractBlockcyptherOracle } from './_AbstractBlockcyptherOracle';\n\nexport class EthereumOracle extends AbstractBlockcyptherOracle {\n    public name = 'ETH';\n    protected titleOfCoin = 'Ethereum';\n    protected ttl = 12;\n}\n","import { AbstractBlockcyptherOracle } from './_AbstractBlockcyptherOracle';\n\nexport class LitecoinOracle extends AbstractBlockcyptherOracle {\n    public name = 'LTC';\n    protected titleOfCoin = 'Litecoin';\n    protected ttl = 60 * 2.5;\n}\n","import RssParser from 'rss-parser';\nimport { IOracle } from './_IOracle';\n\nexport class NytimesOracle implements IOracle {\n    public name = 'NYTIMES';\n    public ttl = -1;\n\n    public async getData() {\n        const rssParser = new RssParser();\n        const feed = await rssParser.parseURL(\n            `https://rss.nytimes.com/services/xml/rss/nyt/World.xml`,\n        );\n\n        // console.log({ feed });\n\n        const firstItem = feed.items[0] as {\n            content: 'Chancellor Olaf Scholz and his new cabinet were sworn in, beginning a new chapter for Europe’s largest democracy. Angela Merkel wished him well and called the chancellorship “one of the most beautiful duties there are.”';\n            contentSnippet: 'Chancellor Olaf Scholz and his new cabinet were sworn in, beginning a new chapter for Europe’s largest democracy. Angela Merkel wished him well and called the chancellorship “one of the most beautiful duties there are.”';\n            creator: 'The New York Times';\n            'dc:creator': 'The New York Times';\n            guid: 'https://www.nytimes.com/live/2021/12/08/world/germany-scholz-merkel';\n            isoDate: '2021-12-08T18:38:54.000Z';\n            link: 'https://www.nytimes.com/live/2021/12/08/world/germany-scholz-merkel';\n            pubDate: 'Wed, 08 Dec 2021 18:38:54 +0000';\n            title: 'Germany’s Merkel Hands Over Chancellor’s Office to Scholz';\n        };\n\n        return [\n            {\n                title: 'The\\nNew York Times',\n                format: 'Front page title',\n                value: firstItem.title,\n                source: new URL(firstItem.link),\n                /*\n                TODO: @hejny Maybe implement this:\n                getShortenValue(length: number) {\n                    return firstTitle.substr(0, length);\n                },\n                */\n            },\n        ];\n    }\n}\n\n/**\n * TODO: @hejny Add more news sources\n * @see https://medium.com/rakuten-rapidapi/top-10-best-news-apis-google-news-bloomberg-bing-news-and-more-bbf3e6e46af6\n */\n","import { ConfigChecker } from 'configchecker';\nimport { Vector } from 'xyzt';\n///* tslint:disable:no-var-requires */\n//const packageJson = require('../package.json');\nimport { version } from '../package.json';\nimport { IFilePreviewer } from './filePreview/IFilePreviewerProps';\nimport { AudioFilePreview } from './filePreview/mimeTypes/audio/AudioFilePreview';\nimport { ImageFilePreview } from './filePreview/mimeTypes/image/ImageFilePreview';\nimport { CodeFilePreview } from './filePreview/mimeTypes/misc/CodeFilePreview';\nimport { UnknownFilePreview } from './filePreview/mimeTypes/misc/UnknownFilePreview';\nimport { BitcoinOracle } from './oracles/BitcoinOracle';\nimport { DateOracle } from './oracles/DateOracle';\nimport { EthereumOracle } from './oracles/EthereumOracle';\nimport { LitecoinOracle } from './oracles/LitecoinOracle';\nimport { NytimesOracle } from './oracles/NytimesOracle';\nimport { IOracle } from './oracles/_IOracle';\n\nexport const VERSION = version;\n\nexport const ORACLES: IOracle[] = [\n    new BitcoinOracle(),\n    new EthereumOracle(),\n    new LitecoinOracle(),\n    new DateOracle(),\n    new NytimesOracle(),\n];\n\nexport const FILE_PREVIEWERS: IFilePreviewer[] = [\n    new ImageFilePreview(),\n    new AudioFilePreview(),\n    new CodeFilePreview(),\n    new UnknownFilePreview(),\n];\n\nexport const PAGE_DEBUG = false;\nexport const PAGE_MM_TO_PX_RATIO = 2;\nexport const PAGE_SIZE = new Vector(210, 297);\n// TODO: @hejny Maybe in second stage USA format of papers - Letter / B type\n\nconst config = ConfigChecker.from(process.env);\n\n// @deprecated TODO: @hejny <- @nitram147 see comments bellow\n// @deprecated TODO: - add testnet/mainnet switch\n// @deprecated TODO: - add config for ergo explorer url and subdomains for testnet/mainnet variant\n\n/**\n * @deprecated\n */\nexport const ERGO_ASSEMBLER_URL = new URL(\n    `https://assembler.sigmastamp.ml:14747`,\n); /* <- Just a temporary fake value */\n\n/*config\n    .get(\n        'REACT_APP_ERGO_ASSEMBLER_URL' /* TODO: @hejny configchecker can ignore prefxes in ConfigChecker.from * /,\n    )\n    .url()\n    // TODO: @hejny .checkHttps()\n    // TODO: @hejny .checkNativePort()\n    // TODO: @hejny universal .check() in configchecker\n    .required().value!;\n  */\n\nexport const BUILD_DETAILS_URL = config\n    .get(\n        'REACT_APP_BUILD_DETAILS_URL' /* TODO: @hejny configchecker can ignore prefxes in ConfigChecker.from */,\n    )\n    .url().value;\n\nexport const BUILD_DATE = config\n    .get(\n        'REACT_APP_BUILD_DATE' /* TODO: @hejny configchecker can ignore prefxes in ConfigChecker.from */,\n    )\n    .date().value;\n","import { createGlobalStyle } from 'styled-components';\n\n// Note: Do not use this file for local components and all CSS logic put into styled components\n\nexport const GlobalStyle = createGlobalStyle`\n\n\n\n    body {\n        margin: 0;\n    }\n\n\n    button, .button {\n      outline: none;\n        background-color: rgb(242, 242, 242);\n        color: rgb(78, 78, 78);\n\n        border-radius: 6px;\n        padding: 7px 18px;\n        font-size: 0.9em;\n        margin: 0 5px;\n        cursor: pointer;\n        display: inline-block;\n        text-decoration: none;\n    }\n\n    a, a:visited {\n      color: #333;\n    }\n`;\n\n/**\n * TODO: @hejny Dark/light theme from system\n * TODO: @hejny Dark/light theme toggle\n */\n","export default __webpack_public_path__ + \"static/media/how-it-works.ccc50e19.md\";","export default __webpack_public_path__ + \"static/media/mobile-device.080acc71.md\";","import { Converter } from 'showdown';\nimport showdownHighlight from 'showdown-highlight';\nimport { spaceTrim } from 'spacetrim';\nimport styled from 'styled-components';\nimport { useAsyncMemo } from '../utils/useAsyncMemo';\n\ninterface IArticleProps {\n    /**\n     * Path to source markdown\n     */\n    src: string;\n}\n\nexport function Article({ src }: IArticleProps) {\n    const { error, content } = useAsyncMemo<{\n        content: string | null;\n        error: Error | null;\n    }>(async () => {\n        try {\n            const response = await fetch(src);\n            const mimeType = response.headers.get('content-type');\n\n            if (!mimeType || !/^text\\/markdown/.test(mimeType)) {\n                return {\n                    content: null,\n                    error: new Error(\n                        spaceTrim(`\n                            Unexpected mime-type in article src\n                            Fetching \"${src}\"\n                            Expected \"text/markdown\" got \"${mimeType}\"\n                        `),\n                    ),\n                };\n            }\n\n            return { content: await response.text(), error: null };\n        } catch (error) {\n            if (!(error instanceof Error)) {\n                throw error;\n            }\n            return { content: null, error };\n        }\n    }, [src]) || { content: null, error: null };\n\n    if (!error && !content) {\n        return <>{/* TODO: Some loading */}</>;\n    }\n\n    if (error) {\n        console.error(error);\n        return <>{/* TODO: Some error indication */}</>;\n    }\n\n    const markdown = content;\n    converter.setFlavor('github');\n    const html = converter.makeHtml(markdown);\n\n    return <ArticleDiv dangerouslySetInnerHTML={{ __html: html }} />;\n}\n\nconst converter = new Converter({\n    extensions: [\n        showdownHighlight({\n            // Whether to add the classes to the <pre> tag, default is false\n            pre: true,\n            // Whether to use hljs' auto language detection, default is true\n            auto_detection: true,\n        }),\n    ],\n});\n\nconst ArticleDiv = styled.div`\n    /*/\n    outline: 1px dashed red;\n    /**/\n\n    img {\n        max-width: 50%;\n        max-height: 50%;\n    }\n\n    /*\n    table {\n        border-collapse: collapse;\n    }\n    */\n\n    table,\n    th,\n    td {\n        border: none;\n    }\n\n    table tr:nth-child(even) {\n        background-color: rgba(255, 255, 255, 0.05);\n    }\n\n    table th {\n        background-color: rgba(255, 255, 255, 0.1);\n        text-align: center;\n    }\n\n    table th,\n    table td {\n        padding: 5px;\n    }\n`;\n","import React from 'react';\n\n/**\n * React hook for generating async memoized data.\n * This is a copy of @see https://github.com/awmleer/use-async-memo/blob/master/src/index.ts\n */\nexport function useAsyncMemo<TValue>(factory: () => Promise<TValue>, deps: React.DependencyList): TValue | null {\n    const [value, setValue] = React.useState/* <- TODO: Import and use just a useState */ <TValue | null>(null);\n    React.useEffect(\n        /* <- TODO: Import and use just a useEffect */ () => {\n            let cancel = false;\n            const promise = factory();\n            if (promise === undefined || promise === null) return;\n            promise.then((val2) => {\n                if (!cancel) {\n                    setValue(val2);\n                }\n            });\n            return () => {\n                cancel = true;\n            };\n        },\n        // Note: Passing correct deps is up to useAsyncMemo caller.\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        deps,\n    );\n    return value;\n}\n\n/**\n * TODO: Handle errors here\n * Note: Hook for modules must use same React as the main Collboard app\n *       So this is a copy of @see https://github.com/awmleer/use-async-memo/blob/master/src/index.ts\n * TODO: [🧵] Move to external LIB for react loadables\n */\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport function Center({\n    children,\n    isFlexed,\n    className,\n}: React.PropsWithChildren<{ isFlexed?: boolean; className?: string }>) {\n    return (\n        <CenterDiv className={`outer ${className}`}>\n            {isFlexed ? (\n                children\n            ) : (\n                <div className={`inner ${className}`}>{children}</div>\n            )}\n        </CenterDiv>\n    );\n}\n\nconst CenterDiv = styled.div`\n    /*/\n\n    outline: 1px dashed red;\n\n    & > * {\n        outline: 1px dashed yellow;\n    }\n\n    /**/\n\n    position: flex;\n    flex-direction: column;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    .inner {\n    }\n`;\n","import styled from 'styled-components';\n\ninterface ILogoComponentProps {\n    isWatermark?: boolean;\n}\n\nexport function LogoComponent({ isWatermark }: ILogoComponentProps) {\n    return (\n        <LogoElement>\n            <img\n                className=\"logo\"\n                alt=\"SigmaStamp logo\"\n                src={`./sigmastamp-logo.grey.svg`}\n            />\n\n            {!isWatermark && (\n                <div>\n                    <h1 className=\"name\">SigmaStamp</h1>\n                    <p className=\"claim\">\n                        Timestamp your\n                        <br />\n                        <b>documents</b>\n                    </p>\n                </div>\n            )}\n        </LogoElement>\n    );\n}\nconst LogoElement = styled.div`\n    /*/\n    outline: 1px dashed red; /**/\n\n    display: flex;\n    font-family: 'Oswald', sans-serif;\n    color: white;\n\n    img.logo {\n        width: 5rem;\n    }\n\n    h1.name {\n        display: block;\n        font-size: 1.5em;\n        margin: 0;\n    }\n\n    p.claim {\n        display: block;\n        font-size: 1em;\n        margin: 0;\n    }\n`;\n","/**\n * Note: Routes are in separate javascript (not typescript) file to allow it import from postprocess-build script\n */\n\nexport const ROUTES = {\n    // Currently used pages:\n    VerificationPage: '/verify',\n    Blockchains: '/blockchains',\n    Oracles: '/oracles',\n    SampleCertificates: '/sample-certificates',\n    Faq: '/faq',\n    Playground: '/playground',\n    TechnicalStatus: '/status',\n    About: '/about',\n    HowItWorks: '/manual',\n    Mobile: '/mobile-device',\n\n    // Deprecated pages (but kept because they are still referenced somewhere):\n    FirstCertificate: '/',\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { ROUTES } from '../routes.mjs';\nimport { isRunningOnMobileDevice } from '../utils/isRunningOnMobileDevice';\nimport { usePersistentState } from '../utils/usePersistentState';\n\nexport function Notifications() {\n    const [isMobileDeviceWarning, setMobileDeviceWarning] = usePersistentState(\n        'isMobileDeviceWarning',\n        isRunningOnMobileDevice(),\n    );\n\n    return (\n        <NotificationsDiv className=\"notifications\">\n            {isMobileDeviceWarning && (\n                <NotificationDiv className=\"notification\">\n                    On mobile devices SigmaStamp has limited capabilities.\n                    <Link\n                        className=\"button\"\n                        to={ROUTES.Mobile}\n                        onClick={() => void setMobileDeviceWarning(false)}\n                    >\n                        See more\n                    </Link>\n                    <Link\n                        className=\"button\"\n                        to={ROUTES.Mobile}\n                        onClick={() => void setMobileDeviceWarning(false)}\n                    >\n                        Dismiss\n                    </Link>\n                </NotificationDiv>\n            )}\n        </NotificationsDiv>\n    );\n}\n\nconst NotificationsDiv = styled.div`\n    /*/\n    outline: 1px dashed green; /**/\n\n    pointer-events: none;\n    z-index: 10010;\n\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding: 5px;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    @media (max-width: 850px) {\n        top: unset;\n        bottom: 0;\n    }\n`;\n\nconst NotificationDiv = styled.div`\n    /*/\n    outline: 1px dashed red; /**/\n\n    pointer-events: all;\n\n    padding: 10px;\n    border-radius: 5px;\n    background-color: #a3b168;\n`;\n\n/**\n * TODO: Here should be also EU cookies warning\n */\n","import { Dispatch, SetStateAction, useEffect, useState } from 'react';\n\n/**\n * A custom hook that provides persistent state that is saved in `localStorage`.\n *\n * @template T The type of the state value.\n * @param {string} key The key used to store the state in `localStorage`.\n * @param {T} initialValue The initial value of the state.\n * @returns {[T, Dispatch<SetStateAction<T>>]} A tuple containing the current state and a function to update it.\n * @generator https://sharegpt.com/c/CiDAHqq\n */\nexport function usePersistentState<T>(\n    key: string,\n    initialValue: T,\n): [T, Dispatch<SetStateAction<T>>] {\n    const [state, setState] = useState<T>(() => {\n        const valueInLocalStorage = window.localStorage.getItem(key);\n        if (valueInLocalStorage) {\n            return JSON.parse(valueInLocalStorage);\n        }\n        return initialValue;\n    });\n\n    useEffect(() => {\n        window.localStorage.setItem(key, JSON.stringify(state));\n    }, [key, state]);\n\n    return [state, setState];\n}\n","export function isRunningOnMobileDevice() {\n    if (\n        /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n            navigator.userAgent,\n        )\n    ) {\n        return true;\n    } else {\n        return false;\n    }\n}\n","import styled from 'styled-components';\n\nexport const Button = styled.button`\n    border: solid 1.5px #009edf;\n    background-color: #009edf;\n    color: white;\n    border-radius: 5px;\n    padding: 7px 18px;\n    font-size: 0.9em;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    cursor: pointer;\n    display: inline-block;\n    text-decoration: none;\n\n    &:hover {\n        background-color: #8bbfd3;\n    }\n`;\n","export function findDeepestChild(element: HTMLElement): HTMLElement {\n    if (element.children.length === 0) {\n        return element;\n    } else {\n        return findDeepestChild(element.children[0] as HTMLElement);\n    }\n}\n","import html2canvas from 'html2canvas';\nimport { jsPDF } from 'jspdf';\nimport { forAllImagesInElement, forEver } from 'waitasecond';\nimport { Vector } from 'xyzt';\nimport { PAGE_DEBUG, PAGE_MM_TO_PX_RATIO, PAGE_SIZE } from '../config';\nimport { findDeepestChild } from '../utils/findDeepestChild';\n\nexport async function createPdf(containerElement: HTMLElement): Promise<Blob> {\n    const pdfDocument = new jsPDF('p', 'mm', PAGE_SIZE.toArray2D());\n    // TODO: @hejny Add metadata to PDF\n\n    await forAllImagesInElement(containerElement);\n\n    const canvas = await html2canvas(containerElement, {\n        scale: 3 /* TODO: @hejny What is the ideal quality */,\n        backgroundColor: 'trasparent',\n        allowTaint: true,\n        // removeContainer: true,\n        ignoreElements: (element) => {\n            if (PAGE_DEBUG) {\n                return false;\n            } else {\n                return element.classList.contains('render-as-text');\n            }\n        },\n    });\n\n    const image = canvas.toDataURL('image/png' /* TODO: Configure quality */);\n\n    if (PAGE_DEBUG) {\n        canvas.style.width = PAGE_SIZE.x * PAGE_MM_TO_PX_RATIO + 'px';\n        canvas.style.height = PAGE_SIZE.y * PAGE_MM_TO_PX_RATIO + 'px';\n        canvas.style.border = '1px solid red';\n        canvas.style.position = 'fixed';\n        canvas.style.bottom = '20px';\n        canvas.style.right = '20px';\n        document.body.appendChild(canvas);\n    }\n\n    pdfDocument.addImage(\n        // TODO: @hejny Compression of the image\n        image,\n        'JPEG',\n        0,\n        0,\n        ...PAGE_SIZE.toArray2D(),\n    );\n\n    const containerBoundingBox = containerElement.getBoundingClientRect();\n    const originPosition = Vector.fromObject(containerBoundingBox, [\n        'left',\n        'top',\n    ]);\n    const containerSize = Vector.fromObject(containerBoundingBox, [\n        'width',\n        'height',\n    ]);\n\n    pdfDocument.addFont('Times New Roman', 'Times', 'serif');\n    // TODO: @hejny Remove unnessesary fonts from the document\n    //   console.log(pdfDocument.getFontList());\n\n    for (const textElement of Array.from(\n        containerElement.querySelectorAll('.render-as-text'),\n    ) as HTMLElement[]) {\n        const positionInPdf = Vector.fromObject(\n            textElement.getBoundingClientRect(),\n            ['left', 'top'],\n        )\n            .subtract(originPosition)\n            .divide(containerSize)\n            .multiply(PAGE_SIZE)\n            .add(new Vector(0, 0.5));\n\n        const textElementDeepestChild = findDeepestChild(textElement);\n\n        const fontSize = parseFloat(\n            window\n                .getComputedStyle(textElementDeepestChild, null)\n                .getPropertyValue('font-size'),\n        );\n\n        const fontWeight = parseFloat(\n            window\n                .getComputedStyle(textElementDeepestChild, null)\n                .getPropertyValue('font-weight'),\n        );\n\n        const fontStyle = fontWeight > 400 ? 'bold' : 'normal';\n\n        const fontSizeInPdf =\n            fontSize * (PAGE_SIZE.y / containerSize.y) * 2.83464566929;\n\n        pdfDocument.setFontSize(fontSizeInPdf);\n\n        pdfDocument.setFont('Times', fontStyle);\n        pdfDocument.text(textElement.innerText, ...positionInPdf.toArray2D(), {\n            baseline: 'top',\n        });\n\n        // console.log(textElement.innerText, ...positionInPdf.toArray2D());\n    }\n\n    // containerElement.style.display = 'none';\n\n    if (PAGE_DEBUG) {\n        pdfDocument.save('test.pdf');\n        // TODO: @hejny Maybe debug throught new tab> console.log(pdfDocument.output('datauri'));\n        await forEver();\n    }\n\n    return pdfDocument.output('blob');\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Promisable } from 'type-fest';\nimport { PAGE_MM_TO_PX_RATIO, PAGE_SIZE } from '../config';\nimport { createPdf } from '../pdf/createPdf';\n\ninterface IPdfPageProps extends React.PropsWithChildren<{}> {\n    renderUi: (options: {\n        createPdf: () => Promise<Blob>;\n    }) => Promisable<JSX.Element | JSX.Element[]>;\n}\n\nexport function PdfPage(props: IPdfPageProps) {\n    const pageRef = React.useRef<HTMLDivElement>(null);\n\n    return (\n        <PdfPageDiv>\n            {props.renderUi({\n                createPdf: async () => {\n                    const containerElement = pageRef.current;\n\n                    if (!containerElement) {\n                        throw new Error('Problem with rendering to PDF.');\n                    }\n\n                    const pdfBlob = await createPdf(containerElement);\n\n                    return pdfBlob;\n                },\n            })}\n            <div className=\"preview\" ref={pageRef}>\n                {props.children}\n            </div>\n        </PdfPageDiv>\n    );\n}\n\nconst PdfPageDiv = styled.div`\n    width: ${PAGE_SIZE.x * PAGE_MM_TO_PX_RATIO}px;\n\n    .preview {\n        //overflow: hidden;\n        width: ${PAGE_SIZE.x * PAGE_MM_TO_PX_RATIO}px;\n        height: ${PAGE_SIZE.y * PAGE_MM_TO_PX_RATIO}px;\n        //box-shadow: #5e97ccb7 0px 0px 50px;\n\n        background-color: white;\n        color: black;\n\n        /* Note: It the printed certificate there is better to use serif font */\n        font-family: 'Times New Roman', Times, serif;\n    }\n\n    .preview img.logo {\n        width: 50px;\n        opacity: 0.5;\n    }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { PAGE_MM_TO_PX_RATIO } from '../config';\nimport { Center } from './Center';\n\nexport type IUploadZoneProps = React.PropsWithChildren<{\n    isClickable?: boolean;\n    onFilesOver?: (isFileOver: boolean) => void;\n    onFiles: (droppedFiles: File[]) => void;\n}>;\n\nexport function UploadZone({\n    children,\n    isClickable,\n    onFilesOver,\n    onFiles,\n}: IUploadZoneProps) {\n    const [isFilesOver, setFilesOver] = React.useState(false);\n\n    const onFileOverWrapper = (isFileOver: boolean) => {\n        setFilesOver(isFileOver);\n\n        if (onFilesOver) {\n            onFilesOver(isFileOver);\n        }\n    };\n\n    let uploadClick: () => void;\n\n    return (\n        <UploadZoneDiv\n            className={isFilesOver ? 'files-over' : ''}\n            onClick={() => {\n                if (isClickable) {\n                    uploadClick();\n                }\n            }}\n            onMouseEnter={() => {\n                onFileOverWrapper(true);\n            }}\n            onMouseLeave={() => {\n                onFileOverWrapper(false);\n            }}\n            onDragEnter={(event) => {\n                event.stopPropagation();\n                event.preventDefault();\n            }}\n            onDragOver={(event) => {\n                event.stopPropagation();\n                event.preventDefault();\n                onFileOverWrapper(true);\n            }}\n            onDragExit={(event) => {\n                event.stopPropagation();\n                event.preventDefault();\n                onFileOverWrapper(false);\n            }}\n            onDragEnd={(event) => {\n                event.stopPropagation();\n                event.preventDefault();\n                onFileOverWrapper(false);\n            }}\n            onDragEndCapture={(event) => {\n                event.stopPropagation();\n                event.preventDefault();\n                onFileOverWrapper(false);\n            }}\n            onDrop={(event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                onFileOverWrapper(false);\n\n                const files = Array.from(event.dataTransfer.files); // TODO: @hejny Maybe there should be event.dataTransfer.items handler\n                onFiles(files);\n            }}\n        >\n            <input\n                type=\"file\"\n                multiple\n                ref={(element) => {\n                    if (element) {\n                        uploadClick = () => {\n                            onFileOverWrapper(true);\n                            (element as HTMLInputElement).click();\n                        };\n                    }\n                }}\n                onChange={(event) => {\n                    if (!event || !event.target || !event.target.files) return;\n                    onFiles(Array.from(event.target.files));\n                }}\n            />\n            <Center className={'upload-inner'}>{children}</Center>\n        </UploadZoneDiv>\n    );\n}\n\nconst PADDING = 100;\nconst UploadZoneDiv = styled.div`\n    width: ${210 * PAGE_MM_TO_PX_RATIO - 2 * PADDING}px;\n    height: ${297 * PAGE_MM_TO_PX_RATIO - 2 * PADDING}px;\n    padding: ${PADDING}px;\n    border: 5px dashed #cccccc;\n    border-radius: 5px;\n\n    input {\n        display: none;\n    }\n\n    transition: border-color 0.2s ease;\n    .upload-inner {\n        transition: transform 0.1s ease;\n    }\n\n    &.files-over {\n        border-color: #009edf;\n    }\n\n    &.files-over .upload-inner {\n        transform: scale(105%);\n    }\n`;\n\n/**\n * TODO: @hejny Probbably when there is only one UploadZone rendered on entire page, expand invisible dropzone to full page\n * TODO: @hejny Do not allow to drop placeholder of SigmaStamp logo\n * TODO: @hejny Allow to recieve item from Clipboard\n */\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Center } from './Center';\nimport { LogoComponent } from './LogoComponent';\n\nexport function UploadZoneSigmastampContent({\n    children,\n}: React.PropsWithChildren<{}>) {\n    return (\n        <UploadZoneContentDiv>\n            <Center isFlexed>\n                <LogoComponent isWatermark />\n                {children}\n            </Center>\n        </UploadZoneContentDiv>\n    );\n}\n\nconst UploadZoneContentDiv = styled.div`\n    font-size: 1.5em;\n    opacity: 0.5;\n    text-align: center;\n\n    color: #888;\n\n    img.logo {\n        display: block;\n        width: 230px;\n        transform: translateX(8%);\n    }\n`;\n","export function readFileAsArrayBuffer(file: File | Blob): Promise<ArrayBuffer> {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        reader.addEventListener('loadend', (event) =>\n            resolve(event.target!.result as ArrayBuffer),\n        );\n        reader.addEventListener('error', reject);\n\n        reader.readAsArrayBuffer(file);\n    });\n}\n","import { readFileAsArrayBuffer } from './readFileAsArrayBuffer';\n\nexport async function readFileAsByteArray(file: File | Blob): Promise<Uint8Array> {\n    return new Uint8Array(await readFileAsArrayBuffer(file));\n}\n","export function uint8ArrayToHex(uint8Array: Uint8Array) {\n    return [...uint8Array].map((x) => x.toString(16).padStart(2, '0')).join('');\n}\n","// @ts-ignore: no typings\nimport { blake2bFinal, blake2bInit, blake2bUpdate } from 'blakejs';\nimport { string_hex } from '../interfaces/stringTypes';\nimport { readFileAsByteArray } from '../utils/readFileAsByteArray';\nimport { uint8ArrayToHex } from '../utils/uint8ArrayToHex';\n\nexport async function blake2b256(input: File | Blob): Promise<string_hex> {\n    const KEY = null; // optional key\n    const OUTPUT_LENGTH = 32; // bytes\n    const context = blake2bInit(OUTPUT_LENGTH, KEY || undefined);\n\n    // each time you get a byte array from the stream:\n    blake2bUpdate(context, await readFileAsByteArray(input));\n\n    // finally, once the stream has been exhausted\n    const hashUint8Array = blake2bFinal(context);\n    // returns a 64-byte hash, as a Uint8Array\n\n    const hash = uint8ArrayToHex(hashUint8Array);\n\n    return hash;\n}\n","import { blake2b256 } from '../hash/blake2b256';\n\nimport {\n    EXPLORER_URL,\n    EXPLORER_BOX_INFO_PREFIX,\n    EXPLORER_TOKEN_SEARCH_PREFIX,\n    EXPLORER_TRANSACTION_INFO_PREFIX,\n    EXPLORER_UNSPENT_BOXES_BY_TOKEN_ID_PREFIX\n} from \"../configs/blockchainParameters\";\n\nimport {\n    SIGMASTAMP_NFT_NAME,\n    SIGMASTAMP_ASSET_TYPE\n} from \"../configs/SigmaStampConfig\";\n\n/**\n * TODO: rename function below\n */\nexport async function validateFirstCertificate(firstCertificate: File) {\n    const hash = await blake2b256(firstCertificate);\n\n    const tokensResponse = await fetch(\n        EXPLORER_URL + EXPLORER_TOKEN_SEARCH_PREFIX + SIGMASTAMP_NFT_NAME,\n    );\n    const tokensBody = await tokensResponse.json();\n\n    for (const item of tokensBody.items) {\n        //skip non-NFTs\n        if (item.emissionAmount !== 1) continue;\n\n        const boxId = item.boxId;\n\n        const boxesResponse = await fetch(\n            EXPLORER_URL + EXPLORER_BOX_INFO_PREFIX + `${boxId}`,\n        );\n\n        const boxesBody = await boxesResponse.json();\n\n        //skip non-SigmaStampNFT types\n        if (boxesBody.additionalRegisters.R7.renderedValue !== SIGMASTAMP_ASSET_TYPE) continue;\n\n        if (boxesBody.additionalRegisters.R8.renderedValue === `${hash}`) {\n            return boxesBody;\n        }\n    }\n\n    return null;\n}\n\n//TODO: @nitram147 - function to check whether is hash already in blockchain\n//it would be similar to validateFirstCertificate function\n//maybe it would be great to extract the core functionality into one function and then only make wrapper for it (so validateFirstCertificate will be only a wrapper)\n\nexport async function getTransactionTime(txId: string) {\n    const response = await fetch(\n        EXPLORER_URL + EXPLORER_TRANSACTION_INFO_PREFIX + `${txId}`,\n    );\n    const body = await response.json();\n\n    console.log('getTransactionTime', body);\n\n    const timestamp = body.timestamp;\n    const tokenId = body.outputs[0].assets[0].tokenId;\n\n    return { timestamp, tokenId };\n}\n\n// TODO @hejny <- @nitram147 Unhardcode API URL move it to the config file\nexport async function getNFTHolderAddress(tokenId: string) {\n    const response = await fetch(\n        EXPLORER_URL + EXPLORER_UNSPENT_BOXES_BY_TOKEN_ID_PREFIX + `${tokenId}`,\n    );\n    const body = await response.json();\n\n    console.log('getNFTHolderAddress', body);\n\n    //check that there is only one holder (it means that it is NFT and also that it exists)\n    if (body.total !== 1) return null;\n\n    return body.items[0].address;\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport function Loader() {\n    return (\n        <LoaderDiv>\n            <div className=\"spinner\"></div>\n        </LoaderDiv>\n    );\n}\n\nconst LoaderDiv = styled.div``;\n","import React from 'react';\nimport Countdown from 'react-countdown';\nimport { catchError, map, of } from 'rxjs';\nimport styled from 'styled-components';\nimport { IPaymentStatus } from '../interfaces/IPaymentStatus';\nimport { ergo_wallet_address, nanoerg } from '../interfaces/stringTypes';\nimport { Loader } from './Loader';\nimport { ObservableContentComponent } from './ObservableContentComponent';\nimport { QRCodeLink } from './QRCodeLink';\n\nexport interface IPaymentGateProps {\n    amount: nanoerg;\n    address: ergo_wallet_address;\n    dueDate: Date;\n    paymentStatus: IPaymentStatus;\n}\n\nexport function PaymentGate({\n    amount,\n    address,\n    dueDate,\n    paymentStatus,\n}: IPaymentGateProps) {\n    const link = new URL(\n        `https://explorer.ergoplatform.com/payment-request?address=${address}&amount=${\n            amount / 1000000000\n        }`,\n    );\n\n    return (\n        <PaymentGateDiv>\n            <ObservableContentComponent\n                content={paymentStatus\n                    .pipe(\n                        map(({ checkedDate, isPayed }) =>\n                            !isPayed ? (\n                                <>\n                                    <QRCodeLink {...{ link }} />\n                                    Pay {amount / 1000000000} ERG to address{' '}\n                                    <a\n                                        href={link.href}\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                    >\n                                        {address}\n                                    </a>\n                                    <br />\n                                    In{' '}\n                                    <Countdown\n                                        date={dueDate}\n                                        overtime={false}\n                                        renderer={({ minutes, seconds }) => (\n                                            <>\n                                                {minutes}:{seconds}\n                                            </>\n                                        )}\n                                    />\n                                    <br />\n                                    until{' '}\n                                    {\n                                        dueDate.toUTCString() /* TODO: @hejny Some smarter component to show date and time - maybe use moment.js */\n                                    }\n                                    <hr />\n                                    <Loader /> Waiting for payment\n                                    <br />\n                                    Last checked at{' '}\n                                    {\n                                        checkedDate.toUTCString() /* TODO: @hejny Some smarter component to show date and time - maybe use moment.js */\n                                    }\n                                </>\n                            ) : (\n                                <>\n                                    Succesfully payed!\n                                    {/* TODO: !!! @hejny Place here a link or redirection */}\n                                </>\n                            ),\n                        ),\n                    )\n                    .pipe(\n                        catchError((error: Error) => of(<>{error.message}</>)),\n                    )}\n            />\n        </PaymentGateDiv>\n    );\n}\n\nconst PaymentGateDiv = styled.div`\n    font-size: 11px;\n    width: 500px;\n`;\n\n/**\n *  TODO: !!! @hejny Deal up in design in superlong addreses like UegztxGAXchyKXtaZYFkGWxDnCpMD329qSNk4YVrc8wrwitM58WVocMT59rPSasNZJwezshytQ74pq9JF8uUGGYHJW64hbooxY54dDCRZnFVqFvXGcj1jUhkXpuYuVaDY1b6LcXq9zRCZCiXZ36Gswg2TqcgZRE1B5ZxUrKSd19XykEfsgx5eWW3k7MDiLxvisPqMxqpZtP8UHvgwucJxZ4Bg86xWC3v4kXVC6o9mkg7z64MqiQy1FrqHvY65mr7UgG1vK8q37mDcgZPkDc7BKmsKSLynXgDNsqT8yirvxmsCU9o5wMsF8BoFPxUnjPGLAp7yBwnqtvXowq3o4pYnc4h93irPEHqbTySBgLSEwFzgRgbVrXtE8FaL1q2LVyg7rbHJHzvjVfJMyQDSGQwecG6iWybNUv9sP7SKanHegS4wn8xKaBGrSmqTNk4aPpRXvGTr6rikYxmTYDmQru6tJSebRUf7mhsbtp3xTngEgFtPVCMQTnuuNtszbtHnMHGxfPntz8gEqfKFjHrM1LSCkWxuiYx92Nj7EHFY5vnM7\n */\n","import styled from 'styled-components';\n\nexport const ErrorComponent = styled.div`\n    display: block;\n    background-color: #bb2b2b;\n    color: white;\n    padding: 5px;\n\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    border-radius: 5px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport function Float({ children }: React.PropsWithChildren<{}>) {\n    return (\n        <FloatDiv className={`outer`}>\n            <div className={`inner`}>{children}</div>\n        </FloatDiv>\n    );\n}\n\nconst FloatDiv = styled.div`\n    position: absolute;\n\n    .inner {\n        position: relative;\n    }\n`;\n","import React from 'react';\nimport { Promisable } from 'type-fest';\nimport { Loader } from './Loader';\n\nexport type IFactory<T> = () => T;\n\nexport type IFactorable<T> = T | IFactory<T>;\n\nexport function factor<T>(factorable: IFactorable<T>): T {\n    if (typeof factorable === 'function') {\n        return (factorable as any)();\n    } else {\n        return factorable;\n    }\n}\n\ninterface IAsyncContentComponentProps {\n    /**\n     * Component to be rendered before the content is loaded\n     *\n     * If not set, default loading is used\n     */\n    loading?: JSX.Element;\n\n    /**\n     * The async content to be rendered\n     */\n    content: IFactorable<Promisable<JSX.Element>>;\n}\n\ninterface IAsyncContentComponentState {\n    content: JSX.Element;\n}\n\n/**\n * Utility for mounting RxJS observable content\n *\n * @collboard-modules-sdk\n */\nexport function AsyncContentComponent({\n    loading,\n    content,\n}: IAsyncContentComponentProps) {\n    const [state, setState] = React.useState<IAsyncContentComponentState>({\n        content: loading || <Loader />,\n    });\n\n    React.useEffect(() => {\n        (async () => {\n            setState({ content: await factor(content) });\n        })();\n\n        return () => {\n            /* TODO: @hejny Can here be some reasonable teardown logic? */\n        };\n    }, [content]);\n\n    return state.content;\n}\n","import React from 'react';\nimport styled from 'styled-components';\nimport { AsyncContentComponent } from '../components/AsyncContentComponent';\nimport { FILE_PREVIEWERS } from '../config';\n\ninterface ISingleFilePreviewProps {\n    file: File;\n}\n\nexport function SingleFilePreview({ file }: ISingleFilePreviewProps) {\n    return (\n        <SingleFilePreviewDiv>\n            <AsyncContentComponent\n                key={file.name}\n                content={async () => {\n                    for (const filePreviewer of FILE_PREVIEWERS) {\n                        if (filePreviewer.isSupporting(file)) {\n                            return await filePreviewer.render(file);\n                        }\n                    }\n\n                    // Note: This should never happen, because UnknownFilePreview will support everything\n                    return <>No preview available</>;\n                }}\n            />\n        </SingleFilePreviewDiv>\n    );\n}\n\nconst SingleFilePreviewDiv = styled.div`\n    width: 100%;\n    height: 100%;\n`;\n","import styled from 'styled-components';\nimport { SingleFilePreview } from './SingleFilePreview';\n\ninterface IMultipleFilesPreviewProps {\n    files: File[];\n}\n\nexport function MultipleFilesPreview({ files }: IMultipleFilesPreviewProps) {\n    return (\n        <MultipleFilesPreviewDiv filesCount={files.length}>\n            {files.map((file) => (\n                <div key={file.name} className=\"file-mask\">\n                    <div className=\"file-container\">\n                        <SingleFilePreview file={file} />\n                    </div>\n                </div>\n            ))}\n        </MultipleFilesPreviewDiv>\n    );\n}\n\nconst MultipleFilesPreviewDiv = styled.div<{ filesCount: number }>`\n    display: flex;\n    flex-direction: row;\n    align-content: stretch;\n    justify-content: stretch;\n\n    width: 100%;\n    height: 100%;\n\n    .file-mask {\n        /*/\n        outline: 1px dashed red; /**/\n\n        overflow: hidden;\n        width: ${({ filesCount }) => 100 / filesCount}%;\n        height: 100%;\n    }\n\n    .file-container {\n        /*/\n        outline: 1px dashed red; /**/\n\n        align-self: stretch;\n\n        width: 100%;\n        height: 100%;\n    }\n`;\n","import { saveAs } from 'file-saver';\nimport JSZip from 'jszip';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Vector } from 'xyzt';\nimport { Button } from '../../components/Button';\nimport { ErrorComponent } from '../../components/ErrorComponent';\nimport { Float } from '../../components/Float';\nimport { LogoComponent } from '../../components/LogoComponent';\nimport { Nl2br } from '../../components/Nl2br';\nimport { IPaymentGateProps } from '../../components/PaymentGate';\nimport { PdfPage } from '../../components/PdfPage';\nimport { QRCode } from '../../components/QRCode';\nimport { QRCodeLink } from '../../components/QRCodeLink';\nimport { ORACLES, PAGE_MM_TO_PX_RATIO, PAGE_SIZE } from '../../config';\nimport { MultipleFilesPreview } from '../../filePreview/MultipleFilesPreview';\nimport { blake2b256 } from '../../hash/blake2b256';\nimport { string_base64, string_hex } from '../../interfaces/stringTypes';\nimport { FakeFileOracle } from '../../oracles/FakeFileOracle';\nimport { IOracle, IOracleData } from '../../oracles/_IOracle';\nimport { ROUTES } from '../../routes';\nimport { createSigmaStampNFT } from '../../scripts/createSigmaStampNFT';\nimport { hexToBase64 } from '../../utils/hexToBase64';\nimport { promptAsync } from '../../utils/promptAsync';\n\ninterface IFirstCertificatePdfPageProps {\n    files: File[];\n    setPayment: (v: IPaymentGateProps) => void;\n}\n\nexport function FirstCertificatePdfPage(props: IFirstCertificatePdfPageProps) {\n    const { files, setPayment } = props;\n    const [data, setData] = React.useState<IOracleData[][]>([]);\n    const [errors, setErrors] = React.useState<Error[]>([]);\n\n    React.useEffect(() => {\n        Promise.all(\n            (\n                [\n                    ...files.map((file) => new FakeFileOracle(file)),\n                    ...ORACLES,\n                ] as IOracle[]\n            ).map(async (oracle) => {\n                try {\n                    return {\n                        data: await oracle.getData(/* TODO: @hejny Auto refresh */),\n                        error: null,\n                    };\n                } catch (error) {\n                    if (error instanceof Error) {\n                        return { data: [], error };\n                    } else {\n                        throw error;\n                    }\n                }\n            }),\n        ).then((dataAndErrors) => {\n            // tslint:disable-next-line: no-shadowed-variable\n            setData(dataAndErrors.map(({ data }) => data));\n            setErrors(\n                dataAndErrors\n                    .map(({ error }) => error)\n                    .filter((e) => e !== null) as Error[],\n            );\n        });\n    }, [files]);\n\n    return (\n        <PdfPage\n            renderUi={({ createPdf }) => {\n                return (\n                    <>\n                        {errors.length > 0 && (\n                            <ErrorComponent>\n                                There occured some errors in getting oracle data\n                                You can still download the certificate but some\n                                data from external world may be missing\n                                <br />\n                                See more details on{' '}\n                                <Link to={ROUTES.Oracles}>oracles page</Link>.\n                            </ErrorComponent>\n                        )}\n                        <Button\n                            onClick={async () => {\n                                // TODO: @hejny Download logic into separate util\n                                // TODO: @hejny setPayment should not be in IFirstCertificatePdfPageProps\n\n                                const certificateFile = new File(\n                                    [await createPdf()],\n                                    // TODO: Encorporate filename into certificate filename\n                                    'certificate1.pdf' /* TODO: Maybe add current {lastModified: 1534584790000}*/,\n                                );\n\n                                // TODO: !!! @hejny Add files into certificate\n\n                                //saveAs(certificateFile);\n                                const zip = new JSZip();\n                                for (const file of files) {\n                                    zip.file(file.name, file);\n                                }\n                                zip.file(certificateFile.name, certificateFile);\n\n                                const zipBlob = await zip.generateAsync({\n                                    type: 'blob',\n                                });\n\n                                const zipHash: string_hex = await blake2b256(\n                                    zipBlob,\n                                );\n\n                                const zipHashBase64: string_base64 =\n                                    await hexToBase64(zipHash);\n\n                                saveAs(\n                                    zipBlob,\n                                    // TODO: @hejny Encorporate filename into certificate filename\n                                    `certificate1.${zipHash.substring(\n                                        0,\n                                        5,\n                                    )}.zip`,\n                                );\n\n                                // TODO: @hejny <- @nitram147 replace this with custom form (details mentioned in createSigmaStampNFT.ts)\n                                // TODO: @hejny <- @nitram147 also move proof of today function away, so user will be able to decide whether he want to stamp file or he will make special version of file via proof of today page and then he will stamp this proof of today generated zip file (certificate)\n                                //                            but it should be always opt-in, not opt-out !!!\n                                const userAddress = await promptAsync(\n                                    'Please fill your Ergo address',\n                                    '3Ww7y6vi4NhFZ1ufsEF8vQNyGrvhNmeMmDWP9h3s4qSEFSMoGooV' /* !!! Unhardocde */,\n                                );\n                                if (!userAddress) {\n                                    return;\n                                }\n\n                                //TODO: @hejny <- @nitram147 include also page for \"return\" - this page will be used in case that ergo-assembler failed and users funds got stucked on proxy-smartcontract, see https://sigmausd.io/#/refund <-- we need to implement something like this or the exact \"clone\" of this...\n                                setPayment(\n                                    await createSigmaStampNFT({\n                                        userAddress,\n                                        documentHashInBase64: zipHashBase64,\n                                        documentHashInHex: zipHash,\n                                    }),\n                                );\n                            }}\n                        >\n                            Download 1st certificate\n                        </Button>\n                    </>\n                );\n            }}\n        >\n            <PreviewWithLogo>\n                {/* TODO: @hejny Analyze topleft side of the preview and choose light or dark logo according to it */}\n                <Float>\n                    <LogoComponent isWatermark />\n                </Float>\n                <MultipleFilesPreview {...{ files }} />\n            </PreviewWithLogo>\n            {/* TODO: @hejny Here is weird space between preview and data */}\n            <Data>\n                {data.map((dataGroup, index) => (\n                    <div className=\"data-cell\" key={index}>\n                        {dataGroup.map(\n                            ({\n                                title,\n                                value,\n                                format,\n                                source,\n                                getShortenValue,\n                            }) => (\n                                <div\n                                    className=\"data-cell-group\"\n                                    key={title}\n                                    title={`${title} [${format}]`}\n                                >\n                                    {source ? (\n                                        <QRCodeLink\n                                            link={source}\n                                            margin={0}\n                                            color={{\n                                                dark: '#000000',\n                                                light: '#ffffff00',\n                                            }}\n                                        />\n                                    ) : value.length < 16 ? (\n                                        <></>\n                                    ) : (\n                                        <QRCode\n                                            text={value}\n                                            margin={0}\n                                            color={{\n                                                dark: '#000000',\n                                                light: '#ffffff00',\n                                            }}\n                                        />\n                                    )}\n\n                                    <div className=\"key render-as-text\">\n                                        <Nl2br>{title}</Nl2br>\n                                    </div>\n                                    <div className=\"value render-as-text\">\n                                        {getShortenValue\n                                            ? getShortenValue(16)\n                                            : value}\n                                    </div>\n                                </div>\n                            ),\n                        )}\n                    </div>\n                ))}\n            </Data>\n        </PdfPage>\n    );\n}\n\nconst PreviewWithLogo = styled.div`\n    background-color: #cccccc;\n    height: ${(PAGE_SIZE.y / 2) * PAGE_MM_TO_PX_RATIO}px;\n`;\n\nconst CARD_SIZE = new Vector(PAGE_SIZE.x / 4, 70);\nconst CARD_PADDING = 7;\n\nconst Data = styled.div`\n    /*/\n    border: 3px dotted #906090; /**/\n\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: stretch;\n    justify-content: flex-start;\n    align-content: stretch;\n\n    .data-cell {\n        /*/\n        outline: 1px dotted red; /**/\n\n        //box-shadow: #5e97ccb7 0px 0px 50px;\n\n        /*/\n        &:nth-child(3n + 0) {\n            background-color: #5e97ccb7;\n        }\n\n        &:nth-child(3n + 1) {\n            background-color: #855eccb7;\n        }\n\n        &:nth-child(3n + 2) {\n            background-color: #5ecc9eb7;\n        }\n        /**/\n\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: flex-start;\n\n        width: ${(CARD_SIZE.x - 2 * CARD_PADDING) * PAGE_MM_TO_PX_RATIO}px;\n\n        /*\n        height: ${(CARD_SIZE.y - 2 * CARD_PADDING) * PAGE_MM_TO_PX_RATIO}px;*/\n\n        padding: ${CARD_PADDING * PAGE_MM_TO_PX_RATIO}px;\n\n        .data-cell-group {\n            /*/\n            outline: 1px dotted red; /**/\n        }\n\n        .key,\n        .value {\n            display: block;\n        }\n\n        .key {\n            font-weight: bold;\n            text-decoration: underline;\n            font-size: ${5 * PAGE_MM_TO_PX_RATIO}px;\n            // white-space: nowrap;\n\n            &::after {\n                content: ':';\n            }\n        }\n\n        .value {\n            font-size: ${4 * PAGE_MM_TO_PX_RATIO}px;\n        }\n\n        .qrcode {\n            width: 50px !important;\n            height: 50px !important;\n        }\n    }\n`;\n\n/**\n * TODO: @hejny GET param for passing file\n * TODO: @hejny Integration with Collboard\n */\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { IPaymentGateProps, PaymentGate } from '../../components/PaymentGate';\nimport { UploadZone } from '../../components/UploadZone';\nimport { UploadZoneSigmastampContent } from '../../components/UploadZoneSigmastampContent';\nimport { ROUTES } from '../../routes';\nimport { FirstCertificatePdfPage } from './FirstCertificatePdfPage';\n\ninterface IAppState {\n    files: File[];\n}\n\nexport function FirstCertificatePage() {\n    const [state, setState] = React.useState<IAppState>({ files: [] });\n    const [payment, setPayment] = React.useState<null | IPaymentGateProps>(\n        null,\n    );\n\n    if (!payment) {\n        return (\n            <FirstAndSecondCertificatePageDiv>\n                {/*\n                <Button\n                onClick={() => { console.log('test'); createCertificate() }}\n                >\n                Create document\n                </Button>\n                    <h1>Sigmastamp</h1>*/}\n\n                {state.files.length === 0 ? (\n                    <UploadZone\n                        onFiles={async (files) => {\n                            setState({ files });\n                            /*\n                            const file = files[0];\n\n                            const hash = await blake2b256(file);\n\n                            console.log({ files, file, hash });\n\n                            const certificateFile = createCertificate({ certificateFilename: 'certificate.pdf', hash });\n\n                            const zip = new JSZip();\n                            zip.file(file.name, file);\n                            zip.file(certificateFile.name, certificateFile);\n\n                            const zipFile = await zip.generateAsync({ type: 'blob' });\n                            saveAs(zipFile, 'certificate.zip');\n                            */\n                        }}\n                        isClickable\n                    >\n                        <UploadZoneSigmastampContent>\n                            Drop the files you want to timestamp here!\n                        </UploadZoneSigmastampContent>\n                    </UploadZone>\n                ) : (\n                    <FirstCertificatePdfPage\n                        files={state.files}\n                        setPayment={setPayment}\n                    />\n                )}\n\n                <Link to={ROUTES.SecondCertificate}>\n                    Or verify your 1st certificate.\n                </Link>\n            </FirstAndSecondCertificatePageDiv>\n        );\n    } else {\n        return <PaymentGate {...payment} />;\n    }\n}\n\nexport const FirstAndSecondCertificatePageDiv = styled.div`\n    a {\n        color: #555 !important;\n        font-size: 0.7em;\n    }\n`;\n\n/**\n * TODO: @hejny When the user is in the middle of the process, prevent unloading of the page (or the component) by \"unsubmitted form\" feature of the browser\n */\n","import { useEffect, useState } from 'react';\nimport { IWallet } from '../pages/00-App/App';\n\ninterface IAddressesLoader {\n    loaded: boolean;\n    addresses: string[];\n}\n\nconst DEFAULT_ADDRESSES_LOADER_STATE: IAddressesLoader = {\n    loaded: false,\n    addresses: [],\n};\n\ninterface IUserIsOwnerOfAddress {\n    ownerOfStamperAddress: boolean;\n    ownerOfHolderAddress: boolean;\n    availableIntersectingAddresses: string[];\n}\n\nconst DEFAULT_USER_IS_OWNER_OF_ADDRESS_STATE: IUserIsOwnerOfAddress = {\n    ownerOfStamperAddress: false,\n    ownerOfHolderAddress: false,\n    availableIntersectingAddresses: [],\n};\n\nexport function MessageSigner(props: {\n    wallet: IWallet;\n    stamperAddress: string;\n    holderAddress: string;\n}) {\n    const [loadedAddresses, setLoadedAddresses] = useState<IAddressesLoader>(\n        DEFAULT_ADDRESSES_LOADER_STATE,\n    );\n    const [userIsOwner, setUserIsOwner] = useState<IUserIsOwnerOfAddress>(\n        DEFAULT_USER_IS_OWNER_OF_ADDRESS_STATE,\n    );\n\n    useEffect(() => {\n        setLoadedAddresses(DEFAULT_ADDRESSES_LOADER_STATE);\n        if (!ergoConnector || !ergoConnector.nautilus) return;\n        if (!props.wallet.connected) return;\n        ergoConnector.nautilus.getContext().then((ctx) => {\n            ctx.get_used_addresses().then((addresses) => {\n                const intersectingAddresses: string[] = [];\n                if (addresses.indexOf(props.stamperAddress) > -1)\n                    intersectingAddresses.push(props.stamperAddress);\n                if (addresses.indexOf(props.holderAddress) > -1)\n                    intersectingAddresses.push(props.holderAddress);\n                if (\n                    intersectingAddresses.length === 2 &&\n                    intersectingAddresses[0] === intersectingAddresses[1]\n                )\n                    intersectingAddresses.pop();\n                setUserIsOwner({\n                    ownerOfStamperAddress:\n                        addresses.indexOf(props.stamperAddress) > -1,\n                    ownerOfHolderAddress:\n                        addresses.indexOf(props.holderAddress) > -1,\n                    availableIntersectingAddresses: intersectingAddresses,\n                });\n                setLoadedAddresses({ loaded: true, addresses: addresses });\n            });\n        });\n    }, [props.wallet, props.stamperAddress, props.holderAddress]);\n\n    function signButtonClickHandler() {\n        if (!ergoConnector || !ergoConnector.nautilus) return;\n        if (!props.wallet.connected) return;\n\n        //todo refs to element values (selected address and text in textarea)\n        ergoConnector.nautilus.getContext().then((ctx) => {\n            //todo fix address bellow, same for message\n            ctx.sign_data(props.holderAddress, 'message').then((res) => {\n                console.log(res);\n            });\n        });\n    }\n\n    return (\n        <div>\n            {!props.wallet.connected ? (\n                <h3>\n                    Are you the original \"stamper\" or current holder of NFT\n                    token and want to sign a message? Please connect a wallet\n                    first.\n                </h3>\n            ) : !loadedAddresses.loaded ? (\n                <h3>Loading your addresses, wait a bit...</h3>\n            ) : !userIsOwner.ownerOfStamperAddress &&\n              !userIsOwner.ownerOfHolderAddress ? (\n                <h3>\n                    Unfortunately, you are not owner of any of addresses\n                    associated with this NFT\n                </h3>\n            ) : (\n                <div>\n                    <label for=\"address_select\">Select address:</label>\n                    <br />\n                    <select id=\"address_select\">\n                        {userIsOwner.availableIntersectingAddresses.map(\n                            (addr: string) => (\n                                <option value={addr} key={addr}>\n                                    {addr}\n                                </option>\n                            ),\n                        )}\n                    </select>\n                    <br />\n                    <textarea\n                        name=\"message\"\n                        placeholder=\"Fill your message here\"\n                    ></textarea>\n                    <br />\n                    <span style={{ color: 'red' }}>\n                        Message signing is currently still not implemented in\n                        Nautilus Wallet :-(\n                    </span>\n                    <br />\n                    <button onClick={signButtonClickHandler} disabled={true}>\n                        Sign message\n                    </button>\n                </div>\n            )}\n        </div>\n    );\n}\n","import { saveAs } from 'file-saver';\nimport JSZip from 'jszip';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from '../../components/Button';\nimport { PdfPage } from '../../components/PdfPage';\nimport { UploadZone } from '../../components/UploadZone';\nimport { UploadZoneSigmastampContent } from '../../components/UploadZoneSigmastampContent';\nimport { blake2b256 } from '../../hash/blake2b256';\nimport { ROUTES } from '../../routes';\nimport {\n    getNFTHolderAddress,\n    getTransactionTime,\n    validateFirstCertificate,\n} from '../../scripts/validateFirstCertificate';\nimport { FirstAndSecondCertificatePageDiv } from '../10-FirstCertificate/FirstCertificatePage';\nimport { IWallet } from \"../00-App/App\";\nimport { MessageSigner } from \"../../components/MessageSigner\";\n\n//todo not only current holder but also show minter address!!!\n\nexport function VerificationPage(props: {\n    wallet: IWallet\n}) {\n    const [files, setFiles] = React.useState<any>([]);\n    const [verification, setVerification] = React.useState<any>(null);\n\n    if (!verification) {\n        return (\n            <FirstAndSecondCertificatePageDiv>\n                <UploadZone\n                    onFiles={async (droppedFiles) => {\n                        const firstCertificate = droppedFiles[0];\n                        setFiles([droppedFiles[0]]);\n\n                        const droppedFileVerification =\n                            await validateFirstCertificate(firstCertificate);\n\n                        if (!droppedFileVerification) {\n                            alert(\n                                `Your 1st certificate is still not validated through Ergo blockchain.`,\n                            );\n                            // TODO: @hejny <- @nitram147 see comments bellow\n                            //       consider skipping the rest because extraction of transactionId from null in\n                            //       the following statements will result in error\n                        }\n\n                        const { transactionId } = droppedFileVerification;\n                        const stamperAddress: string = droppedFileVerification.address;\n\n                        const { timestamp, tokenId } = await getTransactionTime(\n                            transactionId,\n                        );\n                        // TODO: @nitram147 -> @hejny <- @nitram147 handle null in case that there isn't asset holder\n                        // this could happen when somebody burned NFT token\n                        // (we know that the corresponding NFT has already existed based on validateFirstCertificate function)\n                        // (but we don't know whether it still exists...)\n                        const currentHolder = await getNFTHolderAddress(\n                            tokenId,\n                        );\n\n                        setVerification({\n                            ...droppedFileVerification,\n                            timestamp,\n                            tokenId,\n                            stamperAddress,\n                            currentHolder,\n                        });\n                        console.log(droppedFileVerification);\n                    }}\n                    isClickable\n                >\n                    <UploadZoneSigmastampContent>\n                        Drop your file here to verify it.\n                    </UploadZoneSigmastampContent>\n                </UploadZone>\n                <Link to={ROUTES.Playground}>\n                    Or stamp your file here.\n                </Link>\n            </FirstAndSecondCertificatePageDiv>\n        );\n    } else {\n        return (\n            <div>\n                <PdfPage\n                    renderUi={({ createPdf }) => {\n                        return (\n                            <Button\n                                onClick={async () => {\n                                    const certificateFile = new File(\n                                        [await createPdf()],\n                                        'certificate2.pdf' /* TODO: Maybe add current {lastModified: 1534584790000}*/,\n                                    );\n\n                                    //saveAs(certificateFile);\n\n                                    //TODO: @nitram147 -> @hejny <- @nitram147 design output format of verify PDF\n                                    // also show somehow to user what amount of GPUs will be required to remine the chain to make\n                                    // false proofs - this will be based on the block difficulty since the NFT mining block up to today\n                                    // TODO: @nitram147 - ask on discord whether there's some function on full node to find this difficulty value...\n                                    const zip = new JSZip();\n                                    for (const file of files) {\n                                        zip.file(file.name, file);\n                                    }\n                                    zip.file(certificateFile.name, certificateFile);\n\n                                    const zipBlob = await zip.generateAsync({\n                                        type: 'blob',\n                                    });\n\n                                    const zipHash = await blake2b256(zipBlob);\n                                    saveAs(\n                                        zipBlob,\n                                        `certificate2.${zipHash.substring(\n                                            0,\n                                            5,\n                                        )}.zip`,\n                                    );\n                                }}\n                            >\n                                Download 2nd certificate\n                            </Button>\n                        );\n                    }}\n                >\n                    <b>transactionId:</b> {verification.transactionId}\n                    <br />\n                    <b>timestamp:</b> {verification.timestamp}\n                    <br />\n                    <b>tokenId:</b> {verification.tokenId}\n                    <br />\n                    <b>stamper address:</b> {verification.stamperAddress}\n                    <br />\n                    <b>current holder:</b> {verification.currentHolder}\n                    <br />\n                </PdfPage>\n                <MessageSigner wallet={props.wallet} stamperAddress={verification.stamperAddress} holderAddress={verification.currentHolder} />\n            </div>\n        );\n    }\n}\n\n/**\n * TODO: @hejny When the user is in the middle of the process, prevent unloading of the page (or the component) by \"unsubmitted form\" feature of the browser\n */\n","import React from 'react';\nimport styled from 'styled-components';\nimport { AsyncContentComponent } from '../../components/AsyncContentComponent';\nimport { ErrorComponent } from '../../components/ErrorComponent';\nimport { ORACLES } from '../../config';\n\nexport function OraclesPage() {\n    return (\n        <OraclesDiv>\n            <h1>Oracles</h1>\n            <p>\n                Theese are information from external world that will be\n                incorporated into your first certificate:\n            </p>\n            {ORACLES.map((oracle) => (\n                <div key={oracle.name}>\n                    <AsyncContentComponent\n                        content={async () => {\n                            try {\n                                const data =\n                                    await oracle.getData(/* TODO: @hejny Auto refresh */);\n\n                                return (\n                                    <>\n                                        {data.map(\n                                            ({\n                                                title,\n                                                value,\n                                                format,\n                                                source,\n                                            }) => (\n                                                <div\n                                                    key={title}\n                                                    title={`${title} [${format}]`}\n                                                >\n                                                    <b>{`${title}: `}</b>\n\n                                                    <a href={source?.href}>\n                                                        {value}\n                                                    </a>\n                                                </div>\n                                            ),\n                                        )}\n                                    </>\n                                );\n                            } catch (error) {\n                                if (error instanceof Error) {\n                                    return (\n                                        <ErrorComponent>\n                                            Error occured when getting data from{' '}\n                                            {oracle.constructor.name}:<br />\n                                            {error.message}\n                                            {/* TODO: @hejny Link to GitHub */}\n                                        </ErrorComponent>\n                                    );\n                                } else {\n                                    throw error;\n                                }\n                            }\n                        }}\n                    />\n                </div>\n            ))}\n        </OraclesDiv>\n    );\n}\n\nconst OraclesDiv = styled.div``;\n\n/**\n * TODO: @hejny Information how to add oracles (link to github)\n */\n","import { useState } from 'react';\nimport styled from 'styled-components';\nimport { UploadZone } from '../../components/UploadZone';\nimport { UploadZoneSigmastampContent } from '../../components/UploadZoneSigmastampContent';\nimport { blake2b256 } from '../../hash/blake2b256';\nimport {\n    create_transaction,\n    get_minimum_required_balance,\n    get_minimum_required_balance_ergs,\n    sign_tx,\n    submit_tx,\n} from '../../scripts/transactionBuilder';\n// import { ErgoConnectorButton } from './ErgoConnectorButton';\nimport { IWallet } from '../00-App/App';\n\nfunction check_whether_there_is_enough_balance(balance: number): boolean {\n    return balance > get_minimum_required_balance();\n}\n\nexport function PlaygroundPage(props: { wallet: IWallet }) {\n    const [file, setFile] = useState<any>(null);\n    const [sentTXHash, setSentTXHash] = useState<string>('');\n\n    function stampItButtonHandler() {\n        if (file === null) return;\n        create_transaction(props.wallet.address, file.hash).then((tx: any) => {\n            sign_tx(tx).then((stx) => {\n                if (stx === null) {\n                    alert('Problem during transaction signing, try again!');\n                    return;\n                }\n                submit_tx(stx).then((txId) => {\n                    if (txId === null) {\n                        alert(\n                            'Submission of transaction into blockchain network failed, try again!',\n                        );\n                        return;\n                    }\n                    setSentTXHash(txId);\n                });\n            });\n        });\n    }\n\n    return (\n        <PlaygroundPageDiv>\n            <h2>Playground</h2>\n            {!props.wallet.connected ? (\n                <p>Please connect the wallet first</p>\n            ) : !check_whether_there_is_enough_balance(props.wallet.balance) ? (\n                <p>\n                    There is not enough balance for stamping process in your\n                    wallet. Required amount is at least{' '}\n                    {get_minimum_required_balance_ergs()} ERGs.\n                </p>\n            ) : file === null ? (\n                <UploadZone\n                    onFiles={async (files) => {\n                        const firstFile = files[0];\n                        const hash = await blake2b256(firstFile);\n                        setFile({ file: firstFile, hash });\n                    }}\n                    isClickable\n                >\n                    <UploadZoneSigmastampContent>\n                        Drop the files you want to timestamp here!\n                    </UploadZoneSigmastampContent>\n                </UploadZone>\n            ) : sentTXHash === '' ? (\n                <div>\n                    <p>{file.file.name}</p>\n                    <p>{file.hash}</p>\n                    Stamp your file and receive SigmaStampNFT to your address:{' '}\n                    {props.wallet.address} by pressing following button:\n                    <br />\n                    <button onClick={stampItButtonHandler}>Stamp it!</button>\n                </div>\n            ) : (\n                <p>Stamping TX with id {sentTXHash} was successfuly sent!</p>\n            )}\n        </PlaygroundPageDiv>\n    );\n}\n\nconst PlaygroundPageDiv = styled.div``;\n\n/**\n * TODO: @hejny !!!! Here should be some observing of the transaction status ?nothing/unknown -> unconfirmed -> confirmed\n *       [🍚] @see https://explorer.ergoplatform.com/en/transactions/d06fb7239d92f575f83a7f9ea51e5c055acefd848cec2b41f7b11591030af2b6\n */\n","import { IWallet } from '../00-App/App';\n\n//todo same check for mainnet/testnet as in babelergs\n//todo same modal as in babelergs\n\nexport function ErgoConnectorButton(props: {\n    wallet: IWallet;\n    setWallet: React.Dispatch<React.SetStateAction<IWallet>>;\n}) {\n    async function handleClick() {\n        if (!props.wallet.connected) {\n            if (!ergoConnector || !ergoConnector.nautilus) {\n                // TODO: @hejny !!!! - this should work\n                // TODO: Link to better more explainable page\n                alert(\n                    `You need to install Nautilus Wallet first\\n https://chrome.google.com/webstore/detail/nautilus-wallet/gjlmehlldlphhljhpnlddaodbjjcchai/related`,\n                );\n                return;\n            }\n\n            const isConnected = await ergoConnector.nautilus.connect({\n                createErgoObject: false,\n            });\n\n            if (isConnected) {\n                const ctx = await ergoConnector.nautilus.getContext();\n                const address = await ctx.get_change_address();\n                const balance = Number(await ctx.get_balance());\n                props.setWallet((prev: IWallet) => ({\n                    ...prev,\n                    connected: true,\n                    address,\n                    balance,\n                }));\n            }\n        } else {\n            if (!ergoConnector || !ergoConnector.nautilus) return;\n            await ergoConnector.nautilus.disconnect();\n            props.setWallet((prev: IWallet) => ({ ...prev, connected: false }));\n        }\n    }\n\n    return (\n        <button onClick={handleClick}>\n            {props.wallet.connected ? 'Disconnect' : 'Connect'}\n        </button>\n    );\n}\n","import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { ROUTES } from '../../routes';\n\nexport function MenuItemsComponent() {\n    return (\n        <MenuElement>\n            <ul>\n                {/*<li>\n                    <NavLink to={ROUTES.FirstCertificate}>\n                        First certificate\n                    </NavLink>\n                </li>*/}\n                <li>\n                    <NavLink to={ROUTES.VerificationPage}>\n                        Verification page(RENAME)\n                    </NavLink>\n                </li>\n                {/*<li>\n                    <NavLink to={ROUTES.Blockchains}>Blockchains</NavLink>\n                </li>*/}\n                <li>\n                    <NavLink to={ROUTES.Oracles}>Oracles</NavLink>\n                </li>\n                {/*<li>\n                    <NavLink to={ROUTES.SampleCertificates}>\n                        Sample certificates\n                    </NavLink>\n                </li>*/}\n                <li>\n                    <NavLink to={ROUTES.HowItWorks}>How it works?</NavLink>\n                </li>\n                {/* Note: This page is prepared for the future.\n                <li>\n                    <NavLink to={ROUTES.Faq}>FAQ</NavLink>\n                </li> */}\n                {/*<li>\n                    <NavLink to={ROUTES.TechnicalStatus}>\n                        Technical status\n                    </NavLink>\n                </li>*/}\n                <li>\n                    <NavLink to={ROUTES.Playground}>Playground</NavLink>\n                </li>\n                {/*<li>\n                    <NavLink to={ROUTES.About}>About</NavLink>\n                </li>*/}\n            </ul>\n        </MenuElement>\n    );\n}\nconst MenuElement = styled.menu`\n    /*/\n    outline: 1px dashed red; /**/\n\n    padding-left: 0px;\n    padding-left: 10px;\n\n    ul {\n        list-style: none;\n        padding: 0;\n    }\n\n    li {\n        margin: 0;\n        font-size: 1.5em;\n    }\n\n    a {\n        color: #7e7d7d;\n        font-size: 0.7em;\n        text-decoration: none;\n    }\n\n    a.active {\n        color: #d3d3d3;\n        font-size: 0.7em;\n    }\n\n    @media (max-width: 850px) {\n    }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { ErgoConnectorButton } from '../../components/ErgoConnectorButton';\nimport { MenuItemsComponent } from './MenuItemsComponent';\n\nimport { IWallet } from './App';\n\nexport function MenuComponent(props: {\n    wallet: IWallet;\n    setWallet: React.Dispatch<React.SetStateAction<IWallet>>;\n}) {\n    return (\n        <MenuElement>\n            <MenuItemsComponent />\n            <ErgoConnectorButton\n                wallet={props.wallet}\n                setWallet={props.setWallet}\n            />\n        </MenuElement>\n    );\n}\nconst MenuElement = styled.div`\n    /*/\n    outline: 1px dashed red; /**/\n\n    @media (max-width: 850px) {\n        display: flex;\n        align-items: flex-start;\n        align-content: flex-start;\n\n        & > * {\n            outline: 1px dashed transparent;\n        }\n\n        ul {\n            margin: 0;\n            display: flex;\n        }\n\n        ul li {\n            border-right: 1px solid #ccc;\n            padding: 10px;\n        }\n    }\n`;\n\n/**\n * TODO: @hejny <HeaderComponent is stupid name - name it as MenuComponent and MenuComponent rename to MenuItemsComponent\n */\n","import { useState } from 'react';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport styled from 'styled-components';\nimport articleHowItWorks from '../../articles/how-it-works.md';\nimport articleMobileDevice from '../../articles/mobile-device.md';\nimport { Article } from '../../components/Article';\nimport { Center } from '../../components/Center';\nimport { LogoComponent } from '../../components/LogoComponent';\nimport { Notifications } from '../../components/Notifications';\nimport { VERSION } from '../../config';\nimport { ROUTES } from '../../routes';\nimport { VerificationPage } from '../20-VerificationPage/VerificationPage';\nimport { OraclesPage } from '../53-Oracles/OraclesPage';\nimport { PlaygroundPage } from '../85-Playground/Playground';\nimport { MenuComponent } from './MenuComponent';\n\nconsole.log({ articleHowItWorks });\n\nexport interface IWallet {\n    connected: boolean;\n    address: string;\n    balance: number;\n}\n\nconst DEFAULT_WALLET_STATE: IWallet = {\n    connected: false,\n    address: '',\n    balance: 0,\n};\n\nexport function App() {\n    const [wallet, setWallet] = useState<IWallet>(DEFAULT_WALLET_STATE);\n\n    return (\n        <AppDiv>\n            <BrowserRouter>\n                <header className=\"darkmode-ignore\">\n                    <LogoComponent />\n                </header>\n\n                <nav className=\"darkmode-ignore\">\n                    <MenuComponent wallet={wallet} setWallet={setWallet} />\n                </nav>\n\n                <main>\n                    <Routes>\n                        {/*<Route\n                                    path={ROUTES.FirstCertificate}\n                                    element={<FirstCertificatePage />}\n                                />*/}\n                        <Route\n                            path={'/'}\n                            element={<PlaygroundPage wallet={wallet} />}\n                        />\n                        <Route\n                            path={ROUTES.VerificationPage}\n                            element={\n                                <Center>\n                                    <VerificationPage wallet={wallet} />\n                                </Center>\n                            }\n                        />\n\n                        {/*<Route\n                                    path={ROUTES.Blockchains}\n                                    element={<BlockchainsPage />}\n                                />*/}\n                        <Route\n                            path={ROUTES.Oracles}\n                            element={<OraclesPage />}\n                        />\n                        {/*<Route\n                                    path={ROUTES.SampleCertificates}\n                                    element={<SampleCertificatesPage />}\n                                />*/}\n                        <Route\n                            path={ROUTES.HowItWorks}\n                            element={<Article src={articleHowItWorks} />}\n                        />\n\n                        <Route\n                            path={ROUTES.Mobile}\n                            element={<Article src={articleMobileDevice} />}\n                        />\n                        {/*<Route\n                                    path={ROUTES.Faq}\n                                    element={<FaqPage />}\n                                />\n                                <Route\n                                    path={ROUTES.TechnicalStatus}\n                                    element={<TechnicalStatusPage />}\n                                />\n\n                                <Route\n                                    path={ROUTES.About}\n                                    element={<AboutPage />}\n                                />*/}\n\n                        <Route\n                            path={ROUTES.Playground}\n                            element={<PlaygroundPage wallet={wallet} />}\n                        />\n                    </Routes>\n                </main>\n\n                <footer className=\"darkmode-ignore\">\n                    <a href=\"https://github.com/hejny/rapid-prototyping-wizard/\">\n                        {VERSION}\n                    </a>\n                </footer>\n\n                <Notifications />\n            </BrowserRouter>\n        </AppDiv>\n    );\n}\n\nconst AppDiv = styled.div`\n    /*/\n    outline: 1px dashed green; /**/\n\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',\n        'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n        'Helvetica Neue', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n\n    display: grid;\n\n    grid-template-columns: 250px 1fr;\n    grid-template-rows: 100px 1fr 50px;\n    grid-template-areas:\n        '🟥 ⬜'\n        '🟦 ⬜'\n        '⬛ ⬜';\n\n    align-items: stretch;\n    justify-content: stretch;\n\n    @media (max-width: 850px) {\n        grid-template-columns: min-content 1fr;\n        grid-template-rows: min-content 1fr 50px;\n        grid-template-areas:\n            '🟥 🟦'\n            '⬜ ⬜'\n            '⬛ ⬛';\n    }\n\n    header,\n    nav,\n    footer {\n        background-color: hsl(224, 15%, 15%);\n        padding: 10px;\n        z-index: 20;\n    }\n\n    header {\n        grid-area: 🟥;\n\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n    }\n\n    nav {\n        /*/\n        outline: 1px dashed red; /**/\n\n        grid-area: 🟦;\n        /* TODO: !!! box-shadow: #00000047 0px 0px 10px;*/\n        /* TODO: !!!  overflow: hidden; */\n    }\n\n    main {\n        /*/\n        outline: 1px dashed red; /**/\n\n        z-index: 5;\n\n        grid-area: ⬜;\n\n        overflow-x: clip;\n        overflow-y: scroll;\n\n        padding: 20px;\n        padding-left: 50px;\n    }\n\n    main h1,\n    main h2,\n    main h3,\n    main h4,\n    main h5,\n    main h6 {\n        margin-top: 40px;\n        border-bottom: 1px solid #444;\n    }\n\n    footer {\n        grid-area: ⬛;\n\n        display: flex;\n        align-items: end;\n        justify-content: end;\n    }\n`;\n\n/**\n * TODO: @hejny Document title should be set according to current page\n */\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BUILD_DATE, BUILD_DETAILS_URL, VERSION } from './config';\nimport { GlobalStyle } from './globalStyle';\nimport { App } from './pages/00-App/App';\n\nconsole.info(\n    `%c📜 Sigmastamp version ${VERSION}` +\n        (!BUILD_DATE ? `` : `\\nBuild at ${BUILD_DATE.toLocaleString()}`) +\n        (!BUILD_DETAILS_URL\n            ? ``\n            : `\\nView build details ${BUILD_DETAILS_URL.href}`),\n    `background: #009EDD; color: white; font-size: 1.1em; font-weight: bold; padding: 5px; border-radius: 3px;`,\n);\n\nReactDOM.render(\n    <React.StrictMode>\n        <GlobalStyle />\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}